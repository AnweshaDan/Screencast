{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/rishav4101/Screencast/pages/game.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport axios from \"axios\";\nimport React from \"react\";\nimport Question from \"../components/Question\";\nimport Hint from \"../components/Hint\";\nimport AnsAlert from \"../components/AnsAlert\";\nimport Answer from \"../components/Answer\";\nimport Router from \"next/router\";\nimport data from '../env.json';\nimport Layout from \"../components/Layout\";\n\nvar game = /*#__PURE__*/function (_React$Component) {\n  _inherits(game, _React$Component);\n\n  var _super = _createSuper(game);\n\n  function game(props) {\n    var _this;\n\n    _classCallCheck(this, game);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"submit\", function (event) {\n      //send final answer for checking\n      console.log(_this.state.answer);\n      console.log(\"JOJOJOJOJOJ\");\n\n      _this.checkAns(_this.state.answer);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"submit2\", function () {\n      //send final answer for checking\n      console.log(_this.state.answer);\n\n      _this.checkAns(_this.state.answer);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"change\", function (event) {\n      //keep updating answer\n      var e = event.target.value;\n\n      _this.setState(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          answer: e\n        });\n      });\n    });\n\n    _this.state = {\n      answer: \"\",\n      questions: \"\",\n      qsNo: 1,\n      audio: \"\",\n      image: \"\",\n      isLoggedIn: false,\n      hint: \"\",\n      day: \"\",\n      end: \"\",\n      message: \"\",\n      v: \"\"\n    };\n    _this.submit = _this.submit.bind(_assertThisInitialized(_this));\n    _this.submit2 = _this.submit2.bind(_assertThisInitialized(_this));\n    _this.change = _this.change.bind(_assertThisInitialized(_this));\n    _this.checkAns = _this.checkAns.bind(_assertThisInitialized(_this));\n    _this.getQuestions = _this.getQuestions.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(game, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(data.api + \"/api/status\").then(function (response) {\n        console.log(response);\n        var temp3 = new Date(response.data.start_time);\n        var temp2 = new Date(response.data.end_time);\n        localStorage.setItem('end', temp2.getTime() + temp2.getTimezoneOffset() * 60000);\n        localStorage.setItem(\"start\", temp3.getTime() + temp3.getTimezoneOffset() * 60000);\n        var temp = localStorage.getItem('end') - Date.now();\n        localStorage.setItem(\"day\", response.data.current_day);\n        console.log(temp);\n        console.log(localStorage.getItem('end'));\n        console.log(localStorage.getItem('day'));\n\n        _this2.setState({\n          v: setTimeout(function () {\n            AnsAlert(9);\n\n            if (localStorage.getItem('day') == 3 || response.data.error) {\n              Router.push('/game_finale');\n            } else {\n              Router.push('/finale2');\n            }\n          }, temp)\n        });\n\n        console.log(localStorage.getItem('end'));\n\n        _this2.setState({\n          day: localStorage.getItem('day'),\n          end: localStorage.getItem('end')\n        }, function () {\n          if (localStorage.getItem('day') == 3 && localStorage.getItem('end') < Date.now()) Router.push('/game_finale');\n          console.log(_this2.state.day + _this2.state.end);\n\n          if (!localStorage.getItem(\"email\")) {\n            AnsAlert(8);\n            Router.push('/');\n          } else if (!(localStorage.getItem('start') <= Date.now())) {\n            AnsAlert(8);\n            Router.push(\"/\");\n          } else {\n            console.log(\"YOOOOOOO\");\n\n            _this2.getQuestions();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"getQuestions\",\n    value: function getQuestions() {\n      var _this3 = this;\n\n      console.log(this.state.qsNo);\n      console.log(localStorage.getItem(\"token\")); //get questions from api and updates state\n\n      axios.get(data.api + \"/api/question\", {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n        }\n      }).then(function (response) {\n        console.log(\"YOOO+\" + response); //if (response.data.error) Router.push(\"/finale2\");\n\n        if (response.data.quiz_finished) {\n          clearTimeout(_this3.state.v);\n          Router.push(\"/finale\");\n        }\n\n        _this3.setState(function (prevState) {\n          return _objectSpread(_objectSpread({}, prevState), {}, {\n            questions: response.data.question,\n            hint: response.data.hint,\n            qsNo: response.data.question_no,\n            audio: response.data.audio,\n            image: response.data.image\n          });\n        });\n      });\n      console.log(localStorage.getItem(\"token\"));\n    }\n  }, {\n    key: \"checkAns\",\n    value: function checkAns(ans //check answer from api and send for correct alert\n    ) {\n      var _this4 = this;\n\n      console.log(ans);\n      console.log(this.state.qsNo);\n      axios.post(data.api + \"/api/checkanswer\", {\n        answer: ans\n      }, {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n        }\n      }).then(function (response) {\n        var r = response.data.result;\n        console.log(response);\n\n        if (r && !response.data.quiz_finished) {\n          _this4.setState(function (prevState) {\n            return _objectSpread(_objectSpread({}, prevState), {}, {\n              qsNo: prevState.qsNo + 1,\n              answer: \"\"\n            });\n          });\n\n          AnsAlert(1); //where does the effing control go after this?\n\n          console.log(\"SANTA\");\n\n          _this4.setState({\n            answer: \"\"\n          });\n\n          _this4.getQuestions();\n        } else if (r && response.data.quiz_finished) {\n          AnsAlert(1);\n          clearTimeout(_this4.state.v);\n          Router.push(\"/finale\");\n        } else {\n          /*this.setState({\n            answer: \"\"\n          });*/\n          AnsAlert(0);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(Layout, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 18\n        }\n      }, __jsx(\"div\", {\n        style: {\n          marginRight: \"auto\",\n          marginLeft: \"auto\",\n          textAlign: \"center\",\n          minHeight: \"100vh-100px\"\n        },\n        questions: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }\n      }, __jsx(Question, {\n        qs: this.state.questions,\n        qsNo: this.state.qsNo,\n        audio: this.state.audio,\n        image: this.state.image,\n        day: this.state.day,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }\n      }), \" \", __jsx(\"div\", {\n        className: \"jsx-4141458270\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 16\n        }\n      }, __jsx(Answer, {\n        change: this.change,\n        answer: this.state.answer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }\n      }), __jsx(Hint, {\n        hint: this.state.hint,\n        submit: this.submit,\n        submit2: this.submit2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }\n      }), __jsx(_JSXStyle, {\n        id: \"4141458270\",\n        __self: this\n      }, \"div.jsx-4141458270{text-align:center;margin:5px;margin-bottom:100px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3Jpc2hhdjQxMDEvU2NyZWVuY2FzdC9wYWdlcy9nYW1lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXNOMEIsQUFHaUMsa0JBQ1AsV0FDUSxvQkFDckIiLCJmaWxlIjoiL2hvbWUvcmlzaGF2NDEwMS9TY3JlZW5jYXN0L3BhZ2VzL2dhbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUXVlc3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUXVlc3Rpb25cIjtcbmltcG9ydCBIaW50IGZyb20gXCIuLi9jb21wb25lbnRzL0hpbnRcIjtcbmltcG9ydCBBbnNBbGVydCBmcm9tIFwiLi4vY29tcG9uZW50cy9BbnNBbGVydFwiXG5pbXBvcnQgQW5zd2VyIGZyb20gXCIuLi9jb21wb25lbnRzL0Fuc3dlclwiO1xuaW1wb3J0IFJvdXRlciBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcbmltcG9ydCBkYXRhIGZyb20gJy4uL2Vudi5qc29uJztcbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uL2NvbXBvbmVudHMvTGF5b3V0XCI7XG5cbmNsYXNzIGdhbWUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGFuc3dlcjogXCJcIixcbiAgICAgICAgICAgIHF1ZXN0aW9uczogXCJcIixcbiAgICAgICAgICAgIHFzTm86IDEsXG4gICAgICAgICAgICBhdWRpbzogXCJcIixcbiAgICAgICAgICAgIGltYWdlOiBcIlwiLFxuICAgICAgICAgICAgaXNMb2dnZWRJbjogZmFsc2UsXG4gICAgICAgICAgICBoaW50OiBcIlwiLFxuICAgICAgICAgICAgZGF5OiBcIlwiLFxuICAgICAgICAgICAgZW5kOiBcIlwiLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJcIixcbiAgICAgICAgICAgIHY6IFwiXCJcblxuXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5zdWJtaXQgPSB0aGlzLnN1Ym1pdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnN1Ym1pdDIgPSB0aGlzLnN1Ym1pdDIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jaGFuZ2UgPSB0aGlzLmNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNoZWNrQW5zID0gdGhpcy5jaGVja0Fucy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldFF1ZXN0aW9ucyA9IHRoaXMuZ2V0UXVlc3Rpb25zLmJpbmQodGhpcyk7XG4gICAgfVxuXG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcblxuICAgICAgICBheGlvc1xuICAgICAgICAgICAgLmdldChkYXRhLmFwaSArIFwiL2FwaS9zdGF0dXNcIilcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB2YXIgdGVtcDMgPSBuZXcgRGF0ZShyZXNwb25zZS5kYXRhLnN0YXJ0X3RpbWUpO1xuICAgICAgICAgICAgICAgIGxldCB0ZW1wMiA9IG5ldyBEYXRlKHJlc3BvbnNlLmRhdGEuZW5kX3RpbWUpO1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdlbmQnLCB0ZW1wMi5nZXRUaW1lKCkgKyAodGVtcDIuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwKSlcblxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic3RhcnRcIiwgdGVtcDMuZ2V0VGltZSgpICsgKHRlbXAzLmdldFRpbWV6b25lT2Zmc2V0KCkgKiA2MDAwMCkpO1xuICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VuZCcpIC0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImRheVwiLCByZXNwb25zZS5kYXRhLmN1cnJlbnRfZGF5KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0ZW1wKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW5kJykpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYXknKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHY6IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbnNBbGVydCg5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGF5JykgPT0gMyB8fCByZXNwb25zZS5kYXRhLmVycm9yKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXIucHVzaCgnL2dhbWVfZmluYWxlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXIucHVzaCgnL2ZpbmFsZTInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgICAgICAgICAgICAgfSwgdGVtcClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbmQnKSlcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZGF5OiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGF5JyksIGVuZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VuZCcpIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYXknKSA9PSAzICYmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW5kJykgPCBEYXRlLm5vdygpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIFJvdXRlci5wdXNoKCcvZ2FtZV9maW5hbGUnKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmRheSArIHRoaXMuc3RhdGUuZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJlbWFpbFwiKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFuc0FsZXJ0KDgpXG4gICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXIucHVzaCgnLycpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N0YXJ0JykgPD0gRGF0ZS5ub3coKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFuc0FsZXJ0KDgpXG4gICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXIucHVzaChcIi9cIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIllPT09PT09PXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFF1ZXN0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgZ2V0UXVlc3Rpb25zKCkge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLnFzTm8pO1xuICAgICAgICBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRva2VuXCIpKTsgLy9nZXQgcXVlc3Rpb25zIGZyb20gYXBpIGFuZCB1cGRhdGVzIHN0YXRlXG5cbiAgICAgICAgYXhpb3NcbiAgICAgICAgICAgIC5nZXQoZGF0YS5hcGkgKyBcIi9hcGkvcXVlc3Rpb25cIiwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRva2VuXCIpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJZT09PK1wiICsgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIC8vaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIFJvdXRlci5wdXNoKFwiL2ZpbmFsZTJcIik7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucXVpel9maW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zdGF0ZS52KTtcblxuICAgICAgICAgICAgICAgICAgICBSb3V0ZXIucHVzaChcIi9maW5hbGVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlc3Rpb25zOiByZXNwb25zZS5kYXRhLnF1ZXN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGludDogcmVzcG9uc2UuZGF0YS5oaW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgcXNObzogcmVzcG9uc2UuZGF0YS5xdWVzdGlvbl9ubyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvOiByZXNwb25zZS5kYXRhLmF1ZGlvLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IHJlc3BvbnNlLmRhdGEuaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRva2VuXCIpKTtcbiAgICB9XG5cbiAgICBzdWJtaXQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgLy9zZW5kIGZpbmFsIGFuc3dlciBmb3IgY2hlY2tpbmdcblxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmFuc3dlcik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSk9KT0pPSk9KT0pcIik7XG4gICAgICAgIHRoaXMuY2hlY2tBbnModGhpcy5zdGF0ZS5hbnN3ZXIpO1xuXG4gICAgfTtcbiAgICBzdWJtaXQyID0gKCkgPT4ge1xuICAgICAgICAvL3NlbmQgZmluYWwgYW5zd2VyIGZvciBjaGVja2luZ1xuXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUuYW5zd2VyKTtcblxuICAgICAgICB0aGlzLmNoZWNrQW5zKHRoaXMuc3RhdGUuYW5zd2VyKTtcbiAgICB9O1xuXG4gICAgY2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIC8va2VlcCB1cGRhdGluZyBhbnN3ZXJcbiAgICAgICAgbGV0IGUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsuLi5wcmV2U3RhdGUsIGFuc3dlcjogZSB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY2hlY2tBbnMoXG4gICAgICAgIGFucyAvL2NoZWNrIGFuc3dlciBmcm9tIGFwaSBhbmQgc2VuZCBmb3IgY29ycmVjdCBhbGVydFxuICAgICkge1xuICAgICAgICBjb25zb2xlLmxvZyhhbnMpO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLnFzTm8pO1xuICAgICAgICBheGlvc1xuICAgICAgICAgICAgLnBvc3QoXG4gICAgICAgICAgICAgICAgZGF0YS5hcGkgKyBcIi9hcGkvY2hlY2thbnN3ZXJcIiwgeyBhbnN3ZXI6IGFucyB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b2tlblwiKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgciA9IHJlc3BvbnNlLmRhdGEucmVzdWx0O1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgIGlmIChyICYmICFyZXNwb25zZS5kYXRhLnF1aXpfZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gey4uLnByZXZTdGF0ZSwgcXNObzogcHJldlN0YXRlLnFzTm8gKyAxLCBhbnN3ZXI6IFwiXCIgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIEFuc0FsZXJ0KDEpOyAvL3doZXJlIGRvZXMgdGhlIGVmZmluZyBjb250cm9sIGdvIGFmdGVyIHRoaXM/XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU0FOVEFcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFF1ZXN0aW9ucygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAociAmJiByZXNwb25zZS5kYXRhLnF1aXpfZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgQW5zQWxlcnQoMSk7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnN0YXRlLnYpO1xuICAgICAgICAgICAgICAgICAgICBSb3V0ZXIucHVzaChcIi9maW5hbGVcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLyp0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXI6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ki9cbiAgICAgICAgICAgICAgICAgICAgQW5zQWxlcnQoMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKCA8XG4gICAgICAgICAgICBMYXlvdXQgPlxuICAgICAgICAgICAgPFxuICAgICAgICAgICAgZGl2IHN0eWxlID0ge1xuICAgICAgICAgICAgICAgIHsgbWFyZ2luUmlnaHQ6IFwiYXV0b1wiLCBtYXJnaW5MZWZ0OiBcImF1dG9cIiwgdGV4dEFsaWduOiBcImNlbnRlclwiLCBtaW5IZWlnaHQ6IFwiMTAwdmgtMTAwcHhcIiB9IH1cbiAgICAgICAgICAgIHF1ZXN0aW9ucyA+XG5cbiAgICAgICAgICAgIDxcbiAgICAgICAgICAgIFF1ZXN0aW9uIHFzID0geyB0aGlzLnN0YXRlLnF1ZXN0aW9ucyB9XG4gICAgICAgICAgICBxc05vID0geyB0aGlzLnN0YXRlLnFzTm8gfVxuICAgICAgICAgICAgYXVkaW8gPSB7IHRoaXMuc3RhdGUuYXVkaW8gfVxuICAgICAgICAgICAgaW1hZ2UgPSB7IHRoaXMuc3RhdGUuaW1hZ2UgfVxuICAgICAgICAgICAgZGF5ID0geyB0aGlzLnN0YXRlLmRheSB9XG4gICAgICAgICAgICAvPiA8XG4gICAgICAgICAgICBkaXYgPlxuICAgICAgICAgICAgPFxuICAgICAgICAgICAgQW5zd2VyIGNoYW5nZSA9IHsgdGhpcy5jaGFuZ2UgfVxuXG4gICAgICAgICAgICBhbnN3ZXIgPSB7IHRoaXMuc3RhdGUuYW5zd2VyIH1cbiAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgIDxcbiAgICAgICAgICAgIEhpbnQgaGludCA9IHsgdGhpcy5zdGF0ZS5oaW50IH1cbiAgICAgICAgICAgIHN1Ym1pdCA9IHsgdGhpcy5zdWJtaXQgfVxuICAgICAgICAgICAgc3VibWl0MiA9IHsgdGhpcy5zdWJtaXQyIH1cblxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgPFxuICAgICAgICAgICAgc3R5bGUganN4ID4geyBgXG4gICAgICAgICAgICBkaXYge1xuICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICAgIG1hcmdpbjogNXB4O1xuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOjEwMHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGAgfSA8IC9zdHlsZT4gPFxuICAgICAgICAgICAgL2Rpdj4gPFxuICAgICAgICAgICAgZGl2IGNsYXNzTmFtZSA9ICdmb290ZXJCdWZmJyA+XG5cbiAgICAgICAgICAgIDxcbiAgICAgICAgICAgIC9kaXY+IDxcbiAgICAgICAgICAgIC9kaXY+IDxcbiAgICAgICAgICAgIC9MYXlvdXQ+XG4gICAgICAgICk7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZ2FtZTsiXX0= */\\n/*@ sourceURL=/home/rishav4101/Screencast/pages/game.js */\"), \" \"), \" \", __jsx(\"div\", {\n        className: \"footerBuff\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 19\n        }\n      }), \" \"), \" \");\n    }\n  }]);\n\n  return game;\n}(React.Component);\n\nexport default game;","map":{"version":3,"sources":["/home/rishav4101/Screencast/pages/game.js"],"names":["axios","React","Question","Hint","AnsAlert","Answer","Router","data","Layout","game","props","event","console","log","state","answer","checkAns","e","target","value","setState","prevState","questions","qsNo","audio","image","isLoggedIn","hint","day","end","message","v","submit","bind","submit2","change","getQuestions","get","api","then","response","temp3","Date","start_time","temp2","end_time","localStorage","setItem","getTime","getTimezoneOffset","temp","getItem","now","current_day","setTimeout","error","push","headers","Authorization","quiz_finished","clearTimeout","question","question_no","ans","post","r","result","marginRight","marginLeft","textAlign","minHeight","Component"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport Question from \"../components/Question\";\nimport Hint from \"../components/Hint\";\nimport AnsAlert from \"../components/AnsAlert\"\nimport Answer from \"../components/Answer\";\nimport Router from \"next/router\";\nimport data from '../env.json';\nimport Layout from \"../components/Layout\";\n\nclass game extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            answer: \"\",\n            questions: \"\",\n            qsNo: 1,\n            audio: \"\",\n            image: \"\",\n            isLoggedIn: false,\n            hint: \"\",\n            day: \"\",\n            end: \"\",\n            message: \"\",\n            v: \"\"\n\n\n        };\n\n        this.submit = this.submit.bind(this);\n        this.submit2 = this.submit2.bind(this);\n        this.change = this.change.bind(this);\n        this.checkAns = this.checkAns.bind(this);\n        this.getQuestions = this.getQuestions.bind(this);\n    }\n\n\n    componentDidMount() {\n\n        axios\n            .get(data.api + \"/api/status\")\n            .then((response) => {\n                console.log(response);\n                var temp3 = new Date(response.data.start_time);\n                let temp2 = new Date(response.data.end_time);\n                localStorage.setItem('end', temp2.getTime() + (temp2.getTimezoneOffset() * 60000))\n\n                localStorage.setItem(\"start\", temp3.getTime() + (temp3.getTimezoneOffset() * 60000));\n                let temp = localStorage.getItem('end') - Date.now();\n                localStorage.setItem(\"day\", response.data.current_day);\n                console.log(temp);\n                console.log(localStorage.getItem('end'));\n                console.log(localStorage.getItem('day'));\n                this.setState({\n                    v: setTimeout(function() {\n                        AnsAlert(9);\n                        if (localStorage.getItem('day') == 3 || response.data.error) {\n\n                            Router.push('/game_finale')\n                        } else {\n\n                            Router.push('/finale2');\n                        }\n\n\n\n                    }, temp)\n                })\n                console.log(localStorage.getItem('end'))\n                this.setState({ day: localStorage.getItem('day'), end: localStorage.getItem('end') }, () => {\n                    if (localStorage.getItem('day') == 3 && (localStorage.getItem('end') < Date.now()))\n                        Router.push('/game_finale')\n                    console.log(this.state.day + this.state.end);\n                    if (!(localStorage.getItem(\"email\"))) {\n                        AnsAlert(8)\n                        Router.push('/');\n                    } else if (!(localStorage.getItem('start') <= Date.now())) {\n                        AnsAlert(8)\n                        Router.push(\"/\");\n                    } else {\n                        console.log(\"YOOOOOOO\")\n                        this.getQuestions();\n                    }\n                });\n            })\n\n    }\n\n    getQuestions() {\n        console.log(this.state.qsNo);\n        console.log(localStorage.getItem(\"token\")); //get questions from api and updates state\n\n        axios\n            .get(data.api + \"/api/question\", {\n                headers: {\n                    Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n                },\n            })\n            .then((response) => {\n                console.log(\"YOOO+\" + response);\n                //if (response.data.error) Router.push(\"/finale2\");\n                if (response.data.quiz_finished) {\n                    clearTimeout(this.state.v);\n\n                    Router.push(\"/finale\");\n                }\n                this.setState((prevState) => {\n                    return {\n                        ...prevState,\n                        questions: response.data.question,\n                        hint: response.data.hint,\n                        qsNo: response.data.question_no,\n                        audio: response.data.audio,\n                        image: response.data.image\n                    };\n                });\n            });\n        console.log(localStorage.getItem(\"token\"));\n    }\n\n    submit = (event) => {\n        //send final answer for checking\n\n        console.log(this.state.answer);\n        console.log(\"JOJOJOJOJOJ\");\n        this.checkAns(this.state.answer);\n\n    };\n    submit2 = () => {\n        //send final answer for checking\n\n        console.log(this.state.answer);\n\n        this.checkAns(this.state.answer);\n    };\n\n    change = (event) => {\n        //keep updating answer\n        let e = event.target.value;\n        this.setState((prevState) => {\n            return {...prevState, answer: e };\n        });\n    };\n\n    checkAns(\n        ans //check answer from api and send for correct alert\n    ) {\n        console.log(ans);\n        console.log(this.state.qsNo);\n        axios\n            .post(\n                data.api + \"/api/checkanswer\", { answer: ans }, {\n                    headers: {\n                        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n                    },\n                }\n            )\n            .then((response) => {\n                let r = response.data.result;\n                console.log(response);\n\n                if (r && !response.data.quiz_finished) {\n                    this.setState((prevState) => {\n                        return {...prevState, qsNo: prevState.qsNo + 1, answer: \"\" };\n                    });\n                    AnsAlert(1); //where does the effing control go after this?\n                    console.log(\"SANTA\");\n                    this.setState({\n                        answer: \"\"\n                    });\n                    this.getQuestions();\n                } else if (r && response.data.quiz_finished) {\n                    AnsAlert(1);\n                    clearTimeout(this.state.v);\n                    Router.push(\"/finale\");\n                } else {\n                    /*this.setState({\n                      answer: \"\"\n                    });*/\n                    AnsAlert(0);\n                }\n            });\n    }\n\n    render() {\n        return ( <\n            Layout >\n            <\n            div style = {\n                { marginRight: \"auto\", marginLeft: \"auto\", textAlign: \"center\", minHeight: \"100vh-100px\" } }\n            questions >\n\n            <\n            Question qs = { this.state.questions }\n            qsNo = { this.state.qsNo }\n            audio = { this.state.audio }\n            image = { this.state.image }\n            day = { this.state.day }\n            /> <\n            div >\n            <\n            Answer change = { this.change }\n\n            answer = { this.state.answer }\n            />\n\n            <\n            Hint hint = { this.state.hint }\n            submit = { this.submit }\n            submit2 = { this.submit2 }\n\n            />\n\n            <\n            style jsx > { `\n            div {\n              text-align: center;\n              margin: 5px;\n              margin-bottom:100px;\n            }\n          ` } < /style> <\n            /div> <\n            div className = 'footerBuff' >\n\n            <\n            /div> <\n            /div> <\n            /Layout>\n        );\n    }\n}\nexport default game;"]},"metadata":{},"sourceType":"module"}