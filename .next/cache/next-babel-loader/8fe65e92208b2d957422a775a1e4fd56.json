{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/anwesha/Desktop/screencast/pages/game.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport axios from \"axios\";\nimport React from \"react\";\nimport Navbar from \"../components/Navbar\";\nimport Footer from \"../components/Footer\";\nimport Question from \"../components/Question\";\nimport Hint from \"../components/Hint\";\nimport AnsAlert from \"../components/AnsAlert\";\nimport Answer from \"../components/Answer\";\nimport Router from \"next/router\";\nimport data from '../env.json';\n\nvar game = /*#__PURE__*/function (_React$Component) {\n  _inherits(game, _React$Component);\n\n  var _super = _createSuper(game);\n\n  function game(props) {\n    var _this;\n\n    _classCallCheck(this, game);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"submit\", function (event) {\n      //send final answer for checking\n      console.log(_this.state.answer);\n      console.log(\"JOJOJOJOJOJ\");\n\n      _this.checkAns(_this.state.answer);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"submit2\", function () {\n      //send final answer for checking\n      console.log(_this.state.answer);\n\n      _this.checkAns(_this.state.answer);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"change\", function (event) {\n      //keep updating answer\n      var e = event.target.value;\n\n      _this.setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          answer: e\n        });\n      });\n    });\n\n    _this.state = {\n      answer: \"\",\n      questions: \"\",\n      qsNo: 1,\n      audio: \"\",\n      image: \"\",\n      isLoggedIn: false,\n      hint: \"\",\n      day: \"\",\n      end: \"\",\n      message: \"\",\n      v: \"\"\n    };\n    _this.submit = _this.submit.bind(_assertThisInitialized(_this));\n    _this.submit2 = _this.submit2.bind(_assertThisInitialized(_this));\n    _this.change = _this.change.bind(_assertThisInitialized(_this));\n    _this.checkAns = _this.checkAns.bind(_assertThisInitialized(_this));\n    _this.getQuestions = _this.getQuestions.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(game, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(data.api + \"/api/status\").then(function (response) {\n        console.log(response);\n        var temp3 = new Date(response.data.start_time);\n        var temp2 = new Date(response.data.end_time);\n        localStorage.setItem('end', temp2.getTime() + temp2.getTimezoneOffset() * 60000);\n        localStorage.setItem(\"start\", temp3.getTime() + temp3.getTimezoneOffset() * 60000);\n        localStorage.setItem(\"day\", response.data.current_day);\n        var temp = localStorage.getItem('end') - Date.now();\n        console.log(temp);\n        console.log(localStorage.getItem('end'));\n        console.log(localStorage.getItem('day'));\n\n        _this2.setState({\n          v: setTimeout(function () {\n            AnsAlert(9);\n\n            if (localStorage.getItem('day') == 3 || response.data.error) {\n              Router.push('/game_finale');\n            } else {\n              Router.push('/finale2');\n            }\n          }, temp)\n        });\n\n        console.log(localStorage.getItem('end'));\n\n        _this2.setState({\n          day: localStorage.getItem('day'),\n          start: localStorage.getItem('start'),\n          end: localStorage.getItem('end')\n        }, function () {\n          if (localStorage.getItem('day') == 3 && localStorage.getItem('end') < Date.now()) Router.push('/game_finale');\n          console.log(_this2.state.day + _this2.state.end);\n\n          if (!localStorage.getItem(\"email\")) {\n            AnsAlert(8);\n            Router.push('/');\n          } else if (!(localStorage.getItem('start') <= Date.now())) {\n            AnsAlert(8);\n            Router.push(\"/\");\n          } else {\n            console.log(\"YOOOOOOO\");\n\n            _this2.getQuestions();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"getQuestions\",\n    value: function getQuestions() {\n      var _this3 = this;\n\n      console.log(this.state.qsNo);\n      console.log(localStorage.getItem(\"token\")); //get questions from api and updates state\n\n      axios.get(data.api + \"/api/question\", {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n        }\n      }).then(function (response) {\n        console.log(\"YOOO+\" + response); //if (response.data.error) Router.push(\"/finale2\");\n\n        if (response.data.quiz_finished) {\n          clearTimeout(_this3.state.v);\n          Router.push(\"/finale\");\n        }\n\n        _this3.setState(function (prevState) {\n          return _objectSpread({}, prevState, {\n            questions: response.data.question,\n            hint: response.data.hint,\n            qsNo: response.data.question_no,\n            audio: response.data.audio,\n            image: response.data.image\n          });\n        });\n      });\n      console.log(localStorage.getItem(\"token\"));\n    }\n  }, {\n    key: \"checkAns\",\n    value: function checkAns(ans //check answer from api and send for correct alert\n    ) {\n      var _this4 = this;\n\n      console.log(ans);\n      console.log(this.state.qsNo);\n      axios.post(data.api + \"/api/checkanswer\", {\n        answer: ans\n      }, {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n        }\n      }).then(function (response) {\n        var r = response.data.result;\n        console.log(response);\n\n        if (r && !response.data.quiz_finished) {\n          _this4.setState(function (prevState) {\n            return _objectSpread({}, prevState, {\n              qsNo: prevState.qsNo + 1,\n              answer: \"\"\n            });\n          });\n\n          AnsAlert(1); //where does the effing control go after this?\n\n          console.log(\"SANTA\");\n\n          _this4.setState({\n            answer: \"\"\n          });\n\n          _this4.getQuestions();\n        } else if (r && response.data.quiz_finished) {\n          AnsAlert(1);\n          clearTimeout(_this4.state.v);\n          Router.push(\"/finale\");\n        } else {\n          _this4.setState({\n            answer: \"\"\n          });\n\n          AnsAlert(0);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        style: {\n          marginRight: \"auto\",\n          marginLeft: \"auto\",\n          textAlign: \"center\",\n          minHeight: \"100vh-100px\"\n        },\n        questions: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 7\n        }\n      }, __jsx(Navbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 9\n        }\n      }), __jsx(Question, {\n        qs: this.state.questions,\n        qsNo: this.state.qsNo,\n        audio: this.state.audio,\n        image: this.state.image,\n        day: this.state.day,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 9\n        }\n      }), __jsx(\"div\", {\n        className: \"jsx-4141458270\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 9\n        }\n      }, __jsx(Answer, {\n        change: this.change,\n        answer: this.state.answer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }\n      }), __jsx(Hint, {\n        hint: this.state.hint,\n        submit: this.submit,\n        submit2: this.submit2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }\n      }), __jsx(_JSXStyle, {\n        id: \"4141458270\",\n        __self: this\n      }, \"div.jsx-4141458270{text-align:center;margin:5px;margin-bottom:100px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2Fud2VzaGEvRGVza3RvcC9zY3JlZW5jYXN0L3BhZ2VzL2dhbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBaU9zQixBQUdpQyxrQkFDUCxXQUNRLG9CQUNyQiIsImZpbGUiOiIvaG9tZS9hbndlc2hhL0Rlc2t0b3Avc2NyZWVuY2FzdC9wYWdlcy9nYW1lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IE5hdmJhciBmcm9tIFwiLi4vY29tcG9uZW50cy9OYXZiYXJcIjtcbmltcG9ydCBGb290ZXIgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9vdGVyXCI7XG5pbXBvcnQgUXVlc3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUXVlc3Rpb25cIjtcbmltcG9ydCBIaW50IGZyb20gXCIuLi9jb21wb25lbnRzL0hpbnRcIjtcbmltcG9ydCBBbnNBbGVydCBmcm9tIFwiLi4vY29tcG9uZW50cy9BbnNBbGVydFwiXG5pbXBvcnQgQW5zd2VyIGZyb20gXCIuLi9jb21wb25lbnRzL0Fuc3dlclwiO1xuaW1wb3J0IFJvdXRlciBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcbmltcG9ydCBkYXRhIGZyb20gJy4uL2Vudi5qc29uJztcblxuXG5jbGFzcyBnYW1lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFuc3dlcjogXCJcIixcbiAgICAgIHF1ZXN0aW9uczogXCJcIixcbiAgICAgIHFzTm86IDEsXG4gICAgICBhdWRpbzogXCJcIixcbiAgICAgIGltYWdlOiBcIlwiLFxuICAgICAgaXNMb2dnZWRJbjogZmFsc2UsXG4gICAgICBoaW50OiBcIlwiLFxuICAgICAgZGF5OiBcIlwiLFxuICAgICAgZW5kOlwiXCIsXG4gICAgICBtZXNzYWdlOlwiXCIsXG4gICAgICB2OlwiXCJcbiAgICAgIFxuICAgICAgXG4gICAgfTtcblxuICAgIHRoaXMuc3VibWl0ID0gdGhpcy5zdWJtaXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN1Ym1pdDIgPSB0aGlzLnN1Ym1pdDIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNoYW5nZSA9IHRoaXMuY2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jaGVja0FucyA9IHRoaXMuY2hlY2tBbnMuYmluZCh0aGlzKTtcbiAgICB0aGlzLmdldFF1ZXN0aW9ucyA9IHRoaXMuZ2V0UXVlc3Rpb25zLmJpbmQodGhpcyk7XG4gIH1cbiAgXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgXG4gICAgYXhpb3NcbiAgICAgIC5nZXQoZGF0YS5hcGkrXCIvYXBpL3N0YXR1c1wiKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IHRlbXAzPW5ldyBEYXRlKHJlc3BvbnNlLmRhdGEuc3RhcnRfdGltZSk7XG4gICAgICAgICAgICBsZXQgdGVtcDIgPSBuZXcgRGF0ZShyZXNwb25zZS5kYXRhLmVuZF90aW1lKTtcblxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2VuZCcsdGVtcDIuZ2V0VGltZSgpICsgKHRlbXAyLmdldFRpbWV6b25lT2Zmc2V0KCkgKiA2MDAwMCkpICAgICAgICAgICAgXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInN0YXJ0XCIsIHRlbXAzLmdldFRpbWUoKSArICh0ZW1wMy5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZGF5XCIscmVzcG9uc2UuZGF0YS5jdXJyZW50X2RheSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCB0ZW1wPWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbmQnKS1EYXRlLm5vdygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0ZW1wKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbmQnKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGF5JykpO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7djpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgIEFuc0FsZXJ0KDkpO1xuICAgICAgICAgICAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGF5Jyk9PTMgfHwgcmVzcG9uc2UuZGF0YS5lcnJvcilcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIFJvdXRlci5wdXNoKCcvZ2FtZV9maW5hbGUnKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBSb3V0ZXIucHVzaCgnL2ZpbmFsZTInKTtcblxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSx0ZW1wKX0pXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW5kJykpXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtkYXk6bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RheScpLCBzdGFydDpsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RhcnQnKSwgZW5kOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbmQnKX0sKCk9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGF5Jyk9PTMgJiYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbmQnKSA8IERhdGUubm93KCkpKVxuICAgICAgICAgICAgICBSb3V0ZXIucHVzaCgnL2dhbWVfZmluYWxlJylcbiAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5kYXkrdGhpcy5zdGF0ZS5lbmQpO1xuICAgICAgICAgICAgICBpZiAoIShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImVtYWlsXCIpKSkge1xuICAgICAgICAgICAgICAgIEFuc0FsZXJ0KDgpXG4gICAgICAgICAgICAgICAgUm91dGVyLnB1c2goJy8nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmICghKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdGFydCcpIDw9IERhdGUubm93KCkpKSB7XG4gICAgICAgICAgICAgICAgQW5zQWxlcnQoOClcbiAgICAgICAgICAgICAgICBSb3V0ZXIucHVzaChcIi9cIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJZT09PT09PT1wiKVxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0UXVlc3Rpb25zKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgIFxuICB9XG5cbiAgZ2V0UXVlc3Rpb25zKCkge1xuICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUucXNObyk7XG4gICAgY29uc29sZS5sb2cobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b2tlblwiKSk7IC8vZ2V0IHF1ZXN0aW9ucyBmcm9tIGFwaSBhbmQgdXBkYXRlcyBzdGF0ZVxuXG4gICAgYXhpb3NcbiAgICAgIC5nZXQoZGF0YS5hcGkrXCIvYXBpL3F1ZXN0aW9uXCIsIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIEF1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b2tlblwiKSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJZT09PK1wiK3Jlc3BvbnNlKTtcbiAgICAgICAgLy9pZiAocmVzcG9uc2UuZGF0YS5lcnJvcikgUm91dGVyLnB1c2goXCIvZmluYWxlMlwiKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucXVpel9maW5pc2hlZClcbiAgICAgICAge1xuICAgICAgICAgIFxuICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnN0YXRlLnYpXG4gICAgICAgICAgXG4gICAgICAgICAgUm91dGVyLnB1c2goXCIvZmluYWxlXCIpO1xuICAgICAgICB9IFxuICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICAgICAgcXVlc3Rpb25zOiByZXNwb25zZS5kYXRhLnF1ZXN0aW9uLFxuICAgICAgICAgICAgaGludDogcmVzcG9uc2UuZGF0YS5oaW50LFxuICAgICAgICAgICAgcXNObzogcmVzcG9uc2UuZGF0YS5xdWVzdGlvbl9ubyxcbiAgICAgICAgICAgIGF1ZGlvOiByZXNwb25zZS5kYXRhLmF1ZGlvLFxuICAgICAgICAgICAgaW1hZ2U6IHJlc3BvbnNlLmRhdGEuaW1hZ2VcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9rZW5cIikpO1xuICB9XG5cbiAgc3VibWl0ID0gKGV2ZW50KSA9PiB7XG4gICAgLy9zZW5kIGZpbmFsIGFuc3dlciBmb3IgY2hlY2tpbmdcbiAgICBcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUuYW5zd2VyKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiSk9KT0pPSk9KT0pcIik7XG4gICAgICB0aGlzLmNoZWNrQW5zKHRoaXMuc3RhdGUuYW5zd2VyKTtcbiAgICBcbiAgfTtcbiAgc3VibWl0MiA9ICgpID0+IHtcbiAgICAvL3NlbmQgZmluYWwgYW5zd2VyIGZvciBjaGVja2luZ1xuXG4gICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5hbnN3ZXIpO1xuXG4gICAgdGhpcy5jaGVja0Fucyh0aGlzLnN0YXRlLmFuc3dlcik7XG4gIH07XG5cbiAgY2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgLy9rZWVwIHVwZGF0aW5nIGFuc3dlclxuICAgIGxldCBlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4ge1xuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBhbnN3ZXI6IGUgfTtcbiAgICB9KTtcbiAgfTtcblxuICBjaGVja0FucyhcbiAgICBhbnMgLy9jaGVjayBhbnN3ZXIgZnJvbSBhcGkgYW5kIHNlbmQgZm9yIGNvcnJlY3QgYWxlcnRcbiAgKSB7XG4gICAgY29uc29sZS5sb2coYW5zKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLnFzTm8pO1xuICAgIGF4aW9zXG4gICAgICAucG9zdChcbiAgICAgICAgZGF0YS5hcGkrXCIvYXBpL2NoZWNrYW5zd2VyXCIsXG4gICAgICAgIHsgYW5zd2VyOiBhbnMgfSxcbiAgICAgICAge1xuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b2tlblwiKSxcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICApXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgbGV0IHIgPSByZXNwb25zZS5kYXRhLnJlc3VsdDtcbiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuXG4gICAgICAgIGlmIChyICYmICFyZXNwb25zZS5kYXRhLnF1aXpfZmluaXNoZWQpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgcXNObzogcHJldlN0YXRlLnFzTm8gKyAxLCBhbnN3ZXI6IFwiXCIgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBBbnNBbGVydCgxKTsgLy93aGVyZSBkb2VzIHRoZSBlZmZpbmcgY29udHJvbCBnbyBhZnRlciB0aGlzP1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiU0FOVEFcIik7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBhbnN3ZXI6IFwiXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLmdldFF1ZXN0aW9ucygpO1xuICAgICAgICB9IGVsc2UgaWYgKHIgJiYgcmVzcG9uc2UuZGF0YS5xdWl6X2ZpbmlzaGVkKSB7XG4gICAgICAgICAgQW5zQWxlcnQoMSk7XG4gICAgICAgICBcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zdGF0ZS52KVxuICAgICAgICAgIFJvdXRlci5wdXNoKFwiL2ZpbmFsZVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGFuc3dlcjogXCJcIlxuICAgICAgICAgIH0pO1xuICAgICAgICAgIEFuc0FsZXJ0KDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogXCJhdXRvXCIsIG1hcmdpbkxlZnQ6IFwiYXV0b1wiLCB0ZXh0QWxpZ246IFwiY2VudGVyXCIsIG1pbkhlaWdodDogXCIxMDB2aC0xMDBweFwiIH19XG4gICAgICAgIHF1ZXN0aW9uc1xuICAgICAgPlxuXG5cbiAgICAgICAgPE5hdmJhciAvPlxuXG4gICAgICAgIDxRdWVzdGlvbiBxcz17dGhpcy5zdGF0ZS5xdWVzdGlvbnN9IHFzTm89e3RoaXMuc3RhdGUucXNOb30gYXVkaW89e3RoaXMuc3RhdGUuYXVkaW99IGltYWdlPXt0aGlzLnN0YXRlLmltYWdlfSBkYXk9e3RoaXMuc3RhdGUuZGF5fSAvPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxBbnN3ZXJcbiAgICAgICAgICAgIGNoYW5nZT17dGhpcy5jaGFuZ2V9XG5cbiAgICAgICAgICAgIGFuc3dlcj17dGhpcy5zdGF0ZS5hbnN3ZXJ9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxIaW50IGhpbnQ9e3RoaXMuc3RhdGUuaGludH1cbiAgICAgICAgICAgIHN1Ym1pdD17dGhpcy5zdWJtaXR9XG4gICAgICAgICAgICBzdWJtaXQyPXt0aGlzLnN1Ym1pdDJ9XG5cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgICAgZGl2IHtcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgICBtYXJnaW46IDVweDtcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbToxMDBweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBgfTwvc3R5bGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxGb290ZXIgLz5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGdhbWU7Il19 */\\n/*@ sourceURL=/home/anwesha/Desktop/screencast/pages/game.js */\")), __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 9\n        }\n      }, __jsx(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return game;\n}(React.Component);\n\nexport default game;","map":{"version":3,"sources":["/home/anwesha/Desktop/screencast/pages/game.js"],"names":["axios","React","Navbar","Footer","Question","Hint","AnsAlert","Answer","Router","data","game","props","event","console","log","state","answer","checkAns","e","target","value","setState","prevState","questions","qsNo","audio","image","isLoggedIn","hint","day","end","message","v","submit","bind","submit2","change","getQuestions","get","api","then","response","temp3","Date","start_time","temp2","end_time","localStorage","setItem","getTime","getTimezoneOffset","current_day","temp","getItem","now","setTimeout","error","push","start","headers","Authorization","quiz_finished","clearTimeout","question","question_no","ans","post","r","result","marginRight","marginLeft","textAlign","minHeight","Component"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport Navbar from \"../components/Navbar\";\nimport Footer from \"../components/Footer\";\nimport Question from \"../components/Question\";\nimport Hint from \"../components/Hint\";\nimport AnsAlert from \"../components/AnsAlert\"\nimport Answer from \"../components/Answer\";\nimport Router from \"next/router\";\nimport data from '../env.json';\n\n\nclass game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      answer: \"\",\n      questions: \"\",\n      qsNo: 1,\n      audio: \"\",\n      image: \"\",\n      isLoggedIn: false,\n      hint: \"\",\n      day: \"\",\n      end:\"\",\n      message:\"\",\n      v:\"\"\n      \n      \n    };\n\n    this.submit = this.submit.bind(this);\n    this.submit2 = this.submit2.bind(this);\n    this.change = this.change.bind(this);\n    this.checkAns = this.checkAns.bind(this);\n    this.getQuestions = this.getQuestions.bind(this);\n  }\n  \n\n  componentDidMount() {\n    \n    axios\n      .get(data.api+\"/api/status\")\n      .then((response) => {\n\n            console.log(response);\n            \n            let temp3=new Date(response.data.start_time);\n            let temp2 = new Date(response.data.end_time);\n\n            localStorage.setItem('end',temp2.getTime() + (temp2.getTimezoneOffset() * 60000))            \n            localStorage.setItem(\"start\", temp3.getTime() + (temp3.getTimezoneOffset() * 60000));\n            localStorage.setItem(\"day\",response.data.current_day);\n            \n            let temp=localStorage.getItem('end')-Date.now();\n            \n            console.log(temp);\n            console.log(localStorage.getItem('end'));\n            console.log(localStorage.getItem('day'));\n            this.setState({v:setTimeout(function(){\n              AnsAlert(9);\n              if(localStorage.getItem('day')==3 || response.data.error)\n              {\n                \n                Router.push('/game_finale')\n              }\n              \n              else\n              {\n                \n                Router.push('/finale2');\n\n              }\n\n              \n              \n            },temp)})\n            console.log(localStorage.getItem('end'))\n            this.setState({day:localStorage.getItem('day'), start:localStorage.getItem('start'), end:localStorage.getItem('end')},()=>\n            {\n              if(localStorage.getItem('day')==3 && (localStorage.getItem('end') < Date.now()))\n              Router.push('/game_finale')\n              console.log(this.state.day+this.state.end);\n              if (!(localStorage.getItem(\"email\"))) {\n                AnsAlert(8)\n                Router.push('/');\n              }\n              else if (!(localStorage.getItem('start') <= Date.now())) {\n                AnsAlert(8)\n                Router.push(\"/\");\n              }\n              else {\n                console.log(\"YOOOOOOO\")\n                this.getQuestions();\n              }\n            });\n        })\n    \n  }\n\n  getQuestions() {\n    console.log(this.state.qsNo);\n    console.log(localStorage.getItem(\"token\")); //get questions from api and updates state\n\n    axios\n      .get(data.api+\"/api/question\", {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n        },\n      })\n      .then((response) => {\n        console.log(\"YOOO+\"+response);\n        //if (response.data.error) Router.push(\"/finale2\");\n        if (response.data.quiz_finished)\n        {\n          \n          clearTimeout(this.state.v)\n          \n          Router.push(\"/finale\");\n        } \n        this.setState((prevState) => {\n          return {\n            ...prevState,\n            questions: response.data.question,\n            hint: response.data.hint,\n            qsNo: response.data.question_no,\n            audio: response.data.audio,\n            image: response.data.image\n          };\n        });\n      });\n    console.log(localStorage.getItem(\"token\"));\n  }\n\n  submit = (event) => {\n    //send final answer for checking\n    \n      console.log(this.state.answer);\n      console.log(\"JOJOJOJOJOJ\");\n      this.checkAns(this.state.answer);\n    \n  };\n  submit2 = () => {\n    //send final answer for checking\n\n    console.log(this.state.answer);\n\n    this.checkAns(this.state.answer);\n  };\n\n  change = (event) => {\n    //keep updating answer\n    let e = event.target.value;\n    this.setState((prevState) => {\n      return { ...prevState, answer: e };\n    });\n  };\n\n  checkAns(\n    ans //check answer from api and send for correct alert\n  ) {\n    console.log(ans);\n    console.log(this.state.qsNo);\n    axios\n      .post(\n        data.api+\"/api/checkanswer\",\n        { answer: ans },\n        {\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n          },\n        }\n      )\n      .then((response) => {\n        let r = response.data.result;\n        console.log(response);\n\n        if (r && !response.data.quiz_finished) {\n          this.setState((prevState) => {\n            return { ...prevState, qsNo: prevState.qsNo + 1, answer: \"\" };\n          });\n          AnsAlert(1); //where does the effing control go after this?\n          console.log(\"SANTA\");\n          this.setState({\n            answer: \"\"\n          });\n          this.getQuestions();\n        } else if (r && response.data.quiz_finished) {\n          AnsAlert(1);\n         \n          clearTimeout(this.state.v)\n          Router.push(\"/finale\");\n        } else {\n          this.setState({\n            answer: \"\"\n          });\n          AnsAlert(0);\n        }\n      });\n  }\n\n  render() {\n    return (\n      <div\n        style={{ marginRight: \"auto\", marginLeft: \"auto\", textAlign: \"center\", minHeight: \"100vh-100px\" }}\n        questions\n      >\n\n\n        <Navbar />\n\n        <Question qs={this.state.questions} qsNo={this.state.qsNo} audio={this.state.audio} image={this.state.image} day={this.state.day} />\n        <div>\n          <Answer\n            change={this.change}\n\n            answer={this.state.answer}\n          />\n\n          <Hint hint={this.state.hint}\n            submit={this.submit}\n            submit2={this.submit2}\n\n          />\n\n          <style jsx>{`\n            div {\n              text-align: center;\n              margin: 5px;\n              margin-bottom:100px;\n            }\n          `}</style>\n        </div>\n        <div>\n          <Footer />\n\n        </div>\n      </div>\n    );\n  }\n}\nexport default game;"]},"metadata":{},"sourceType":"module"}