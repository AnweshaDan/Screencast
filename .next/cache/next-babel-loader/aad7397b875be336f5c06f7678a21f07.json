{"ast":null,"code":"/*import 'firebase/messaging';\nimport firebase from 'firebase/app';\nimport localforage from 'localforage';\nconst firebaseCloudMessaging = {\n//checking whether token is available in indexed DB\ntokenInlocalforage: async () => {\nreturn localforage.getItem('fcm_token');\n},\n//initializing firebase app\ninit: async function () {\nif (!firebase.apps.length) {\nfirebase.initializeApp({\n messagingSenderId: \"447447903811\"\n});\ntry {\nconst messaging = firebase.messaging();\nconst tokenInLocalForage = await this.tokenInlocalforage();\n//if FCM token is already there just return the token\nif (tokenInLocalForage !== null) {\nreturn tokenInLocalForage;\n}\n//requesting notification permission from browser\nconst status = await Notification.requestPermission();\nif (status && status === 'granted') {\n//getting token from FCM\nconst fcm_token = await messaging.getToken();\nif (fcm_token) {\n//setting FCM token in indexed db using localforage\nlocalforage.setItem('fcm_token', token);\nconsole.log('fcm token', token);\n//return the FCM token after saving it\nreturn token;\n}\n}\n} catch (error) {\nconsole.error(error);\nreturn null;\n}\n}\n},\n};\nexport { firebaseCloudMessaging };\n*/","map":{"version":3,"sources":["/home/anwesha/Desktop/screencast/webPush.js"],"names":[],"mappings":"AAAA","sourcesContent":["/*import 'firebase/messaging';\nimport firebase from 'firebase/app';\nimport localforage from 'localforage';\nconst firebaseCloudMessaging = {\n//checking whether token is available in indexed DB\ntokenInlocalforage: async () => {\nreturn localforage.getItem('fcm_token');\n},\n//initializing firebase app\ninit: async function () {\nif (!firebase.apps.length) {\nfirebase.initializeApp({\n messagingSenderId: \"447447903811\"\n});\ntry {\nconst messaging = firebase.messaging();\nconst tokenInLocalForage = await this.tokenInlocalforage();\n//if FCM token is already there just return the token\nif (tokenInLocalForage !== null) {\nreturn tokenInLocalForage;\n}\n//requesting notification permission from browser\nconst status = await Notification.requestPermission();\nif (status && status === 'granted') {\n//getting token from FCM\nconst fcm_token = await messaging.getToken();\nif (fcm_token) {\n//setting FCM token in indexed db using localforage\nlocalforage.setItem('fcm_token', token);\nconsole.log('fcm token', token);\n//return the FCM token after saving it\nreturn token;\n}\n}\n} catch (error) {\nconsole.error(error);\nreturn null;\n}\n}\n},\n};\nexport { firebaseCloudMessaging };\n*/"]},"metadata":{},"sourceType":"script"}