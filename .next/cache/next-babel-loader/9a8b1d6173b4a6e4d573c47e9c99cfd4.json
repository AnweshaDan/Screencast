{"ast":null,"code":"var _jsxFileName = \"/home/anwesha/Desktop/screencast/pages/game.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport axios from \"axios\";\nimport React from \"react\";\nimport Navbar from \"../components/Navbar\";\nimport Footer from \"../components/Footer\";\nimport Question from \"../components/Question\";\nimport Hint from \"../components/Hint\";\nimport AnsAlert from \"../components/AnsAlert\";\nimport Particles from \"react-particles-js\";\nimport Answer from \"../components/Answer\";\nimport Router from \"next/router\";\nconst minuteSeconds = 60;\nconst hourSeconds = 3600;\nconst daySeconds = 86400;\nconst timerProps = {\n  isPlaying: true,\n  size: 120,\n  strokeWidth: 6\n};\n\nconst renderTime = (dimension, time) => {\n  return __jsx(\"div\", {\n    className: \"time-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  }, time), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }\n  }, dimension));\n};\n\nconst getTimeSeconds = time => minuteSeconds - time / 1000 | 0;\n\nconst getTimeMinutes = time => time % hourSeconds / minuteSeconds | 0;\n\nconst getTimeHours = time => time % daySeconds / hourSeconds | 0;\n\nconst getTimeDays = time => time / daySeconds | 0;\n\nclass game extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"submit\", event => {\n      //send final answer for checking\n      if (event.key === \"Enter\") {\n        console.log(this.state.answer);\n        console.log(\"JOJOJOJOJOJ\");\n        this.checkAns(this.state.answer);\n      }\n    });\n\n    _defineProperty(this, \"submit2\", () => {\n      //send final answer for checking\n      console.log(this.state.answer);\n      this.checkAns(this.state.answer);\n    });\n\n    _defineProperty(this, \"change\", event => {\n      //keep updating answer\n      let e = event.target.value;\n      this.setState(prevState => {\n        return _objectSpread({}, prevState, {\n          answer: e\n        });\n      });\n    });\n\n    this.state = {\n      answer: \"\",\n      questions: \"\",\n      qsNo: 1,\n      audio: \"\",\n      image: \"\",\n      isLoggedIn: false,\n      hint: \"\"\n    };\n    this.submit = this.submit.bind(this);\n    this.submit2 = this.submit2.bind(this);\n    this.change = this.change.bind(this);\n    this.checkAns = this.checkAns.bind(this);\n    this.getQuestions = this.getQuestions.bind(this);\n  }\n\n  componentDidMount() {\n    //at the beginning sets the qs\n    //after getting appropiate data from backend about that email in local storage\n    console.log(localStorage.getItem(\"token\"));\n    console.log(this.state.qsNo);\n    console.log(localStorage.getItem(\"email\")); //email available here\n\n    /*   axios.get('https://jsonplaceholder.typicode.com/users/email?=Nathan@yesenia.net').then((response)=>\n        {\n            console.log(\"yesssss\"+this.state.qsNo+response.json);\n            this.setState(prevState=>{\n                return{ ...prevState, questions:response.data.id}\n              });\n        }\n        )*/\n    //next qs/completed/error\n\n    this.getQuestions();\n  }\n\n  getQuestions() {\n    console.log(this.state.qsNo);\n    console.log(localStorage.getItem(\"token\")); //get questions from api and updates state\n\n    axios.get(\"https://screencast20.azurewebsites.net/api/question\", {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n      }\n    }).then(response => {\n      console.log(response);\n      if (response.data.quiz_finished) Router.push(\"/finale\");\n      this.setState(prevState => {\n        return _objectSpread({}, prevState, {\n          questions: response.data.question,\n          hint: response.data.hint,\n          qsNo: response.data.question_no,\n          audio: response.data.audio,\n          image: response.data.image\n        });\n      });\n    });\n    console.log(localStorage.getItem(\"token\"));\n  }\n\n  checkAns(ans //check answer from api and send for correct alert\n  ) {\n    console.log(ans);\n    console.log(this.state.qsNo);\n    axios.post(\"https://screencast20.azurewebsites.net/api/checkanswer\", {\n      answer: ans\n    }, {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n      }\n    }).then(response => {\n      let r = response.data.result;\n      console.log(response);\n\n      if (r && !response.data.quiz_finished) {\n        this.setState(prevState => {\n          return _objectSpread({}, prevState, {\n            qsNo: prevState.qsNo + 1\n          });\n        });\n        AnsAlert(1); //where does the effing control go after this?\n\n        console.log(\"SANTA\");\n        this.getQuestions();\n      } else if (r && response.data.quiz_finished) {\n        AnsAlert(1);\n        Router.push(\"/finale\");\n      } else {\n        AnsAlert(0);\n      }\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      style: {\n        marginRight: \"auto\",\n        marginLeft: \"auto\",\n        textAlign: \"center\"\n      },\n      questions: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 7\n      }\n    }, __jsx(Particles, {\n      params: {\n        particles: {\n          number: {\n            value: 80,\n            density: {\n              enable: true,\n              value_area: 400\n            }\n          },\n          color: {\n            value: [\"#cc0000\"]\n          },\n          line_linked: {\n            color: \"#aa0044\",\n            opacity: 1\n          }\n        }\n      },\n      style: {\n        width: \"100%\",\n        height: \"100%\",\n        top: 0,\n        left: 0,\n        position: \"fixed\",\n        index: \"-10\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }\n    }), __jsx(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }\n    }), __jsx(Question, {\n      qs: this.state.questions,\n      qsNo: this.state.qsNo,\n      audio: this.state.audio,\n      image: this.state.image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }\n    }), __jsx(\"div\", {\n      className: \"jsx-3751067751\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }\n    }, __jsx(Answer, {\n      change: this.change,\n      submit: this.submit,\n      submit2: this.submit2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }\n    }), __jsx(Hint, {\n      hint: this.state.hint,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }\n    }), __jsx(_JSXStyle, {\n      id: \"3751067751\",\n      __self: this\n    }, \"div.jsx-3751067751{text-align:center;margin:5px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2Fud2VzaGEvRGVza3RvcC9zY3JlZW5jYXN0L3BhZ2VzL2dhbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBZ05zQixBQUdpQyxrQkFDUCxXQUNiIiwiZmlsZSI6Ii9ob21lL2Fud2VzaGEvRGVza3RvcC9zY3JlZW5jYXN0L3BhZ2VzL2dhbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgTmF2YmFyIGZyb20gXCIuLi9jb21wb25lbnRzL05hdmJhclwiO1xuaW1wb3J0IEZvb3RlciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb290ZXJcIjtcbmltcG9ydCBRdWVzdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9RdWVzdGlvblwiO1xuaW1wb3J0IEhpbnQgZnJvbSBcIi4uL2NvbXBvbmVudHMvSGludFwiO1xuaW1wb3J0IEFuc0FsZXJ0IGZyb20gXCIuLi9jb21wb25lbnRzL0Fuc0FsZXJ0XCJcbmltcG9ydCBQYXJ0aWNsZXMgZnJvbSBcInJlYWN0LXBhcnRpY2xlcy1qc1wiO1xuaW1wb3J0IEFuc3dlciBmcm9tIFwiLi4vY29tcG9uZW50cy9BbnN3ZXJcIjtcbmltcG9ydCBSb3V0ZXIgZnJvbSBcIm5leHQvcm91dGVyXCI7XG5cbmNvbnN0IG1pbnV0ZVNlY29uZHMgPSA2MDtcbmNvbnN0IGhvdXJTZWNvbmRzID0gMzYwMDtcbmNvbnN0IGRheVNlY29uZHMgPSA4NjQwMDtcblxuY29uc3QgdGltZXJQcm9wcyA9IHtcbiAgaXNQbGF5aW5nOiB0cnVlLFxuICBzaXplOiAxMjAsXG4gIHN0cm9rZVdpZHRoOiA2XG59O1xuXG5jb25zdCByZW5kZXJUaW1lID0gKGRpbWVuc2lvbiwgdGltZSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidGltZS13cmFwcGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpbWVcIj57dGltZX08L2Rpdj5cbiAgICAgIDxkaXY+e2RpbWVuc2lvbn08L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmNvbnN0IGdldFRpbWVTZWNvbmRzID0gdGltZSA9PiAobWludXRlU2Vjb25kcyAtIHRpbWUgLyAxMDAwKSB8IDA7XG5jb25zdCBnZXRUaW1lTWludXRlcyA9IHRpbWUgPT4gKCh0aW1lICUgaG91clNlY29uZHMpIC8gbWludXRlU2Vjb25kcykgfCAwO1xuY29uc3QgZ2V0VGltZUhvdXJzID0gdGltZSA9PiAoKHRpbWUgJSBkYXlTZWNvbmRzKSAvIGhvdXJTZWNvbmRzKSB8IDA7XG5jb25zdCBnZXRUaW1lRGF5cyA9IHRpbWUgPT4gKHRpbWUgLyBkYXlTZWNvbmRzKSB8IDA7XG5jbGFzcyBnYW1lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFuc3dlcjogXCJcIixcbiAgICAgIHF1ZXN0aW9uczogXCJcIixcbiAgICAgIHFzTm86IDEsXG4gICAgICBhdWRpbzpcIlwiLFxuICAgICAgaW1hZ2U6XCJcIixcbiAgICAgIGlzTG9nZ2VkSW46IGZhbHNlLFxuICAgICAgaGludDogXCJcIixcbiAgICB9O1xuXG4gICAgdGhpcy5zdWJtaXQgPSB0aGlzLnN1Ym1pdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3VibWl0MiA9IHRoaXMuc3VibWl0Mi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2hhbmdlID0gdGhpcy5jaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNoZWNrQW5zID0gdGhpcy5jaGVja0Fucy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZ2V0UXVlc3Rpb25zID0gdGhpcy5nZXRRdWVzdGlvbnMuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIC8vYXQgdGhlIGJlZ2lubmluZyBzZXRzIHRoZSBxc1xuICAgIC8vYWZ0ZXIgZ2V0dGluZyBhcHByb3BpYXRlIGRhdGEgZnJvbSBiYWNrZW5kIGFib3V0IHRoYXQgZW1haWwgaW4gbG9jYWwgc3RvcmFnZVxuICAgIGNvbnNvbGUubG9nKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9rZW5cIikpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUucXNObyk7XG4gICAgY29uc29sZS5sb2cobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJlbWFpbFwiKSk7IC8vZW1haWwgYXZhaWxhYmxlIGhlcmVcblxuICAgIC8qICAgYXhpb3MuZ2V0KCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vdXNlcnMvZW1haWw/PU5hdGhhbkB5ZXNlbmlhLm5ldCcpLnRoZW4oKHJlc3BvbnNlKT0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwieWVzc3Nzc1wiK3RoaXMuc3RhdGUucXNObytyZXNwb25zZS5qc29uKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlPT57XG4gICAgICAgICAgICAgICAgcmV0dXJueyAuLi5wcmV2U3RhdGUsIHF1ZXN0aW9uczpyZXNwb25zZS5kYXRhLmlkfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICApKi9cblxuICAgIC8vbmV4dCBxcy9jb21wbGV0ZWQvZXJyb3JcblxuICAgIHRoaXMuZ2V0UXVlc3Rpb25zKCk7XG4gIH1cblxuICBnZXRRdWVzdGlvbnMoKSB7XG4gICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5xc05vKTtcbiAgICBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRva2VuXCIpKTsgLy9nZXQgcXVlc3Rpb25zIGZyb20gYXBpIGFuZCB1cGRhdGVzIHN0YXRlXG5cbiAgICBheGlvc1xuICAgICAgLmdldChcImh0dHBzOi8vc2NyZWVuY2FzdDIwLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9xdWVzdGlvblwiLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9rZW5cIiksXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucXVpel9maW5pc2hlZCkgUm91dGVyLnB1c2goXCIvZmluYWxlXCIpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICAgICAgcXVlc3Rpb25zOiByZXNwb25zZS5kYXRhLnF1ZXN0aW9uLFxuICAgICAgICAgICAgaGludDogcmVzcG9uc2UuZGF0YS5oaW50LFxuICAgICAgICAgICAgcXNObzogcmVzcG9uc2UuZGF0YS5xdWVzdGlvbl9ubyxcbiAgICAgICAgICAgIGF1ZGlvOnJlc3BvbnNlLmRhdGEuYXVkaW8sXG4gICAgICAgICAgICBpbWFnZTpyZXNwb25zZS5kYXRhLmltYWdlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRva2VuXCIpKTtcbiAgfVxuXG4gIHN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgIC8vc2VuZCBmaW5hbCBhbnN3ZXIgZm9yIGNoZWNraW5nXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmFuc3dlcik7XG4gICAgICBjb25zb2xlLmxvZyhcIkpPSk9KT0pPSk9KXCIpO1xuICAgICAgdGhpcy5jaGVja0Fucyh0aGlzLnN0YXRlLmFuc3dlcik7XG4gICAgfVxuICB9O1xuICBzdWJtaXQyID0gKCkgPT4ge1xuICAgIC8vc2VuZCBmaW5hbCBhbnN3ZXIgZm9yIGNoZWNraW5nXG5cbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmFuc3dlcik7XG5cbiAgICB0aGlzLmNoZWNrQW5zKHRoaXMuc3RhdGUuYW5zd2VyKTtcbiAgfTtcblxuICBjaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAvL2tlZXAgdXBkYXRpbmcgYW5zd2VyXG4gICAgbGV0IGUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiB7XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIGFuc3dlcjogZSB9O1xuICAgIH0pO1xuICB9O1xuXG4gIGNoZWNrQW5zKFxuICAgIGFucyAvL2NoZWNrIGFuc3dlciBmcm9tIGFwaSBhbmQgc2VuZCBmb3IgY29ycmVjdCBhbGVydFxuICApIHtcbiAgICBjb25zb2xlLmxvZyhhbnMpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUucXNObyk7XG4gICAgYXhpb3NcbiAgICAgIC5wb3N0KFxuICAgICAgICBcImh0dHBzOi8vc2NyZWVuY2FzdDIwLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9jaGVja2Fuc3dlclwiLFxuICAgICAgICB7IGFuc3dlcjogYW5zIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9rZW5cIiksXG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGxldCByID0gcmVzcG9uc2UuZGF0YS5yZXN1bHQ7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcblxuICAgICAgICBpZiAociAmJiAhcmVzcG9uc2UuZGF0YS5xdWl6X2ZpbmlzaGVkKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIHFzTm86IHByZXZTdGF0ZS5xc05vICsgMSB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIEFuc0FsZXJ0KDEpOyAvL3doZXJlIGRvZXMgdGhlIGVmZmluZyBjb250cm9sIGdvIGFmdGVyIHRoaXM/XG4gICAgICAgICAgY29uc29sZS5sb2coXCJTQU5UQVwiKTtcblxuICAgICAgICAgIHRoaXMuZ2V0UXVlc3Rpb25zKCk7XG4gICAgICAgIH0gZWxzZSBpZiAociAmJiByZXNwb25zZS5kYXRhLnF1aXpfZmluaXNoZWQpIHtcbiAgICAgICAgICBBbnNBbGVydCgxKTtcbiAgICAgICAgICBSb3V0ZXIucHVzaChcIi9maW5hbGVcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgQW5zQWxlcnQoMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBcImF1dG9cIiwgbWFyZ2luTGVmdDogXCJhdXRvXCIsIHRleHRBbGlnbjogXCJjZW50ZXJcIiB9fVxuICAgICAgICBxdWVzdGlvbnNcbiAgICAgID5cbiAgICAgICAgPFBhcnRpY2xlc1xuICAgICAgICAgIHBhcmFtcz17e1xuICAgICAgICAgICAgcGFydGljbGVzOiB7XG4gICAgICAgICAgICAgIG51bWJlcjoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiA4MCxcbiAgICAgICAgICAgICAgICBkZW5zaXR5OiB7XG4gICAgICAgICAgICAgICAgICBlbmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICB2YWx1ZV9hcmVhOiA0MDAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogW1wiI2NjMDAwMFwiXSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgbGluZV9saW5rZWQ6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjYWEwMDQ0XCIsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfX1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgICAgICAgaW5kZXg6IFwiLTEwXCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cblxuICAgICAgICA8TmF2YmFyIC8+XG4gICAgICAgIFxuICAgICAgICA8UXVlc3Rpb24gcXM9e3RoaXMuc3RhdGUucXVlc3Rpb25zfSBxc05vPXt0aGlzLnN0YXRlLnFzTm99IGF1ZGlvPXt0aGlzLnN0YXRlLmF1ZGlvfSBpbWFnZT17dGhpcy5zdGF0ZS5pbWFnZX0gLz5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8QW5zd2VyXG4gICAgICAgICAgICBjaGFuZ2U9e3RoaXMuY2hhbmdlfVxuICAgICAgICAgICAgc3VibWl0PXt0aGlzLnN1Ym1pdH1cbiAgICAgICAgICAgIHN1Ym1pdDI9e3RoaXMuc3VibWl0Mn1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPEhpbnQgaGludD17dGhpcy5zdGF0ZS5oaW50fSAvPlxuICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgIGRpdiB7XG4gICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgICAgbWFyZ2luOiA1cHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8Rm9vdGVyIC8+XG4gICAgICAgICAgXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZ2FtZTtcbiJdfQ== */\\n/*@ sourceURL=/home/anwesha/Desktop/screencast/pages/game.js */\")), __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }\n    }, __jsx(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default game;","map":{"version":3,"sources":["/home/anwesha/Desktop/screencast/pages/game.js"],"names":["axios","React","Navbar","Footer","Question","Hint","AnsAlert","Particles","Answer","Router","minuteSeconds","hourSeconds","daySeconds","timerProps","isPlaying","size","strokeWidth","renderTime","dimension","time","getTimeSeconds","getTimeMinutes","getTimeHours","getTimeDays","game","Component","constructor","props","event","key","console","log","state","answer","checkAns","e","target","value","setState","prevState","questions","qsNo","audio","image","isLoggedIn","hint","submit","bind","submit2","change","getQuestions","componentDidMount","localStorage","getItem","get","headers","Authorization","then","response","data","quiz_finished","push","question","question_no","ans","post","r","result","render","marginRight","marginLeft","textAlign","particles","number","density","enable","value_area","color","line_linked","opacity","width","height","top","left","position","index"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport Navbar from \"../components/Navbar\";\nimport Footer from \"../components/Footer\";\nimport Question from \"../components/Question\";\nimport Hint from \"../components/Hint\";\nimport AnsAlert from \"../components/AnsAlert\"\nimport Particles from \"react-particles-js\";\nimport Answer from \"../components/Answer\";\nimport Router from \"next/router\";\n\nconst minuteSeconds = 60;\nconst hourSeconds = 3600;\nconst daySeconds = 86400;\n\nconst timerProps = {\n  isPlaying: true,\n  size: 120,\n  strokeWidth: 6\n};\n\nconst renderTime = (dimension, time) => {\n  return (\n    <div className=\"time-wrapper\">\n      <div className=\"time\">{time}</div>\n      <div>{dimension}</div>\n    </div>\n  );\n};\n\nconst getTimeSeconds = time => (minuteSeconds - time / 1000) | 0;\nconst getTimeMinutes = time => ((time % hourSeconds) / minuteSeconds) | 0;\nconst getTimeHours = time => ((time % daySeconds) / hourSeconds) | 0;\nconst getTimeDays = time => (time / daySeconds) | 0;\nclass game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      answer: \"\",\n      questions: \"\",\n      qsNo: 1,\n      audio:\"\",\n      image:\"\",\n      isLoggedIn: false,\n      hint: \"\",\n    };\n\n    this.submit = this.submit.bind(this);\n    this.submit2 = this.submit2.bind(this);\n    this.change = this.change.bind(this);\n    this.checkAns = this.checkAns.bind(this);\n    this.getQuestions = this.getQuestions.bind(this);\n  }\n\n  componentDidMount() {\n    //at the beginning sets the qs\n    //after getting appropiate data from backend about that email in local storage\n    console.log(localStorage.getItem(\"token\"));\n    console.log(this.state.qsNo);\n    console.log(localStorage.getItem(\"email\")); //email available here\n\n    /*   axios.get('https://jsonplaceholder.typicode.com/users/email?=Nathan@yesenia.net').then((response)=>\n        {\n            console.log(\"yesssss\"+this.state.qsNo+response.json);\n            this.setState(prevState=>{\n                return{ ...prevState, questions:response.data.id}\n              });\n        }\n        )*/\n\n    //next qs/completed/error\n\n    this.getQuestions();\n  }\n\n  getQuestions() {\n    console.log(this.state.qsNo);\n    console.log(localStorage.getItem(\"token\")); //get questions from api and updates state\n\n    axios\n      .get(\"https://screencast20.azurewebsites.net/api/question\", {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n        },\n      })\n      .then((response) => {\n        console.log(response);\n        if (response.data.quiz_finished) Router.push(\"/finale\");\n        this.setState((prevState) => {\n          return {\n            ...prevState,\n            questions: response.data.question,\n            hint: response.data.hint,\n            qsNo: response.data.question_no,\n            audio:response.data.audio,\n            image:response.data.image\n          };\n        });\n      });\n    console.log(localStorage.getItem(\"token\"));\n  }\n\n  submit = (event) => {\n    //send final answer for checking\n    if (event.key === \"Enter\") {\n      console.log(this.state.answer);\n      console.log(\"JOJOJOJOJOJ\");\n      this.checkAns(this.state.answer);\n    }\n  };\n  submit2 = () => {\n    //send final answer for checking\n\n    console.log(this.state.answer);\n\n    this.checkAns(this.state.answer);\n  };\n\n  change = (event) => {\n    //keep updating answer\n    let e = event.target.value;\n    this.setState((prevState) => {\n      return { ...prevState, answer: e };\n    });\n  };\n\n  checkAns(\n    ans //check answer from api and send for correct alert\n  ) {\n    console.log(ans);\n    console.log(this.state.qsNo);\n    axios\n      .post(\n        \"https://screencast20.azurewebsites.net/api/checkanswer\",\n        { answer: ans },\n        {\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n          },\n        }\n      )\n      .then((response) => {\n        let r = response.data.result;\n        console.log(response);\n\n        if (r && !response.data.quiz_finished) {\n          this.setState((prevState) => {\n            return { ...prevState, qsNo: prevState.qsNo + 1 };\n          });\n          AnsAlert(1); //where does the effing control go after this?\n          console.log(\"SANTA\");\n\n          this.getQuestions();\n        } else if (r && response.data.quiz_finished) {\n          AnsAlert(1);\n          Router.push(\"/finale\");\n        } else {\n          AnsAlert(0);\n        }\n      });\n  }\n\n  render() {\n    return (\n      <div\n        style={{ marginRight: \"auto\", marginLeft: \"auto\", textAlign: \"center\" }}\n        questions\n      >\n        <Particles\n          params={{\n            particles: {\n              number: {\n                value: 80,\n                density: {\n                  enable: true,\n                  value_area: 400,\n                },\n              },\n              color: {\n                value: [\"#cc0000\"],\n              },\n              line_linked: {\n                color: \"#aa0044\",\n                opacity: 1,\n              },\n            },\n          }}\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            top: 0,\n            left: 0,\n            position: \"fixed\",\n            index: \"-10\",\n          }}\n        />\n\n        <Navbar />\n        \n        <Question qs={this.state.questions} qsNo={this.state.qsNo} audio={this.state.audio} image={this.state.image} />\n        <div>\n          <Answer\n            change={this.change}\n            submit={this.submit}\n            submit2={this.submit2}\n          />\n\n          <Hint hint={this.state.hint} />\n          <style jsx>{`\n            div {\n              text-align: center;\n              margin: 5px;\n            }\n          `}</style>\n        </div>\n        <div>\n          <Footer />\n          \n        </div>\n      </div>\n    );\n  }\n}\nexport default game;\n"]},"metadata":{},"sourceType":"module"}