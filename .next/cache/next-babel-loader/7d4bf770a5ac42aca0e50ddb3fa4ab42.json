{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport Head from \"next/head\";\nimport axios from \"axios\";\nimport Navbar from \"../components/Navbar\";\nimport Footer from \"../components/Footer\";\nimport GoogleLog from \"../components/GoogleLog\";\nimport FbLog2 from \"../components/FbLog2\";\nimport Timer2 from \"../components/Timer2\";\nimport Router from \"next/router\";\nimport data from '../env.json';\n\nfunction index() {\n  const {\n    0: end,\n    1: setEnd\n  } = useState(Date.now());\n  const {\n    0: start,\n    1: setStart\n  } = useState(Date.now() + 2000);\n  const {\n    0: day,\n    1: setDay\n  } = useState(0);\n  useEffect(() => {\n    console.log('index mounted');\n    axios.get(data.api + \"/api/status\").then(response => {\n      console.log(response);\n      if (response.data.status == 404) Router.push('/error');\n      var temp = new Date(response.data.start_time);\n      setStart(temp.getTime() + temp.getTimezoneOffset() * 60000);\n      let temp2 = new Date(response.data.end_time);\n      setEnd(temp2.getTime() + temp2.getTimezoneOffset() * 60000);\n      setDay(response.data.current_day);\n      localStorage.setItem(\"start\", start);\n      localStorage.setItem(\"end\", end);\n      localStorage.setItem(\"day\", day); //if(localStorage.getItem('email'))\n\n      console.log(localStorage.getItem('end'));\n      console.log(localStorage.getItem('day') == 3 && localStorage.getItem('end') < Date.now());\n      console.log(localStorage.getItem('email') && localStorage.getItem('start') < Date.now() && end > Date.now());\n      if (localStorage.getItem('day') == 3 && localStorage.getItem('end') < Date.now()) Router.push('/game_finale');\n\n      if (localStorage.getItem('email') && localStorage.getItem('start') < Date.now() && localStorage.getItem('end') > Date.now()) {\n        Router.push('/game'); //console.log(Date.now()+\"    \"+localStorage.getItem('start'))\n        //Router.push('/game')\n      } //if(localStorage.getItem('end') < Date.now()) Router.push('/finale2');\n\n    });\n  });\n  return __jsx(\"div\", {\n    style: {\n      textAlign: \"center\",\n      minHeight: \"100vh\"\n    }\n  }, __jsx(\"div\", null, __jsx(Head, null, __jsx(\"meta\", {\n    charSet: \"UTF-8\"\n  }), __jsx(\"meta\", {\n    name: \"viewport\",\n    content: \"width=device-width, initial-scale=1.0, shrink-to-fit:no\"\n  }), __jsx(\"title\", null, \"Screencast \"), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    type: \"text/css\",\n    href: \"question.css\"\n  }))), __jsx(Navbar, null), __jsx(Timer2, {\n    start: start,\n    end: end\n  }), __jsx(\"div\", null, __jsx(\"div\", {\n    className: \"sign\",\n    style: {\n      marginTop: \"40px\",\n      marginBottom: \"20px\",\n      fontFamily: \"'Russo One', sans-serif\"\n    }\n  }, __jsx(\"span\", {\n    className: \"fast-flicker\"\n  }, \"screen\"), \"cast\", \" \", __jsx(\"span\", {\n    className: \"flicker\"\n  }, \"2020 \")), __jsx(\"div\", {\n    className: \"login-head\",\n    style: {\n      marginBottom: \"60px\"\n    }\n  }, __jsx(\"h1\", null, \"Ready to play ?\"))), __jsx(\"div\", {\n    className: \"rowC\",\n    style: {\n      margin: \"0 auto\",\n      marginBottom: '100px',\n      textAlign: \"center\",\n      width: \"100%\",\n      justifyContent: \"center\"\n    }\n  }, __jsx(GoogleLog, null), __jsx(FbLog2, null)), __jsx(\"div\", {\n    style: {\n      paddingTop: '140px'\n    }\n  }, __jsx(Footer, null)));\n}\n\nexport default index;","map":null,"metadata":{},"sourceType":"module"}