{"ast":null,"code":"var _jsxFileName = \"/home/rishav/Screencast/components/BackgroundAnimate.js\";\nvar __jsx = React.createElement;\nimport React from \"react\"; //import \"../bootstrap.css\"\n\nimport Helmet from \"react-helmet\"; //import \"../styles/background.css\"\n\nimport { TweenLite, Circ } from \"gsap\";\nexport default class Bg extends React.Component {\n  componentDidMount() {\n    var width,\n        height,\n        largeHeader,\n        canvas,\n        ctx,\n        points,\n        target,\n        animateHeader = true; // Main\n\n    initHeader();\n    initAnimation();\n    addListeners();\n\n    function initHeader() {\n      width = window.innerWidth;\n      height = window.innerHeight;\n      target = {\n        x: width / 2,\n        y: height / 2\n      }; // largeHeader = document.getElementById(\"large-header\")\n      // largeHeader.style.height = height + \"px\"\n\n      canvas = document.getElementById(\"demo-canvas\");\n      canvas.width = width;\n      canvas.height = height;\n      ctx = canvas.getContext(\"2d\"); // create points\n\n      points = [];\n\n      for (var x = 0; x < width; x = x + width / 20) {\n        for (var y = 0; y < height; y = y + height / 20) {\n          var px = x + Math.random() * width / 20;\n          var py = y + Math.random() * height / 20;\n          var p = {\n            x: px,\n            originX: px,\n            y: py,\n            originY: py\n          };\n          points.push(p);\n        }\n      } // for each point find the 5 closest points\n\n\n      for (var i = 0; i < points.length; i++) {\n        var closest = [];\n        var p1 = points[i];\n\n        for (var j = 0; j < points.length; j++) {\n          var p2 = points[j];\n\n          if (!(p1 == p2)) {\n            var placed = false;\n\n            for (var k = 0; k < 5; k++) {\n              if (!placed) {\n                if (closest[k] == undefined) {\n                  closest[k] = p2;\n                  placed = true;\n                }\n              }\n            }\n\n            for (var k = 0; k < 5; k++) {\n              if (!placed) {\n                if (getDistance(p1, p2) < getDistance(p1, closest[k])) {\n                  closest[k] = p2;\n                  placed = true;\n                }\n              }\n            }\n          }\n        }\n\n        p1.closest = closest;\n      } // assign a circle to each point\n\n\n      for (var i in points) {\n        var c = new Circle(points[i], 2 + Math.random() * 2, \"rgba(255,255,255,0.3)\");\n        points[i].circle = c;\n      }\n    } // Event handling\n\n\n    function addListeners() {\n      if (!(\"ontouchstart\" in window)) {\n        window.addEventListener(\"mousemove\", mouseMove);\n      }\n\n      window.addEventListener(\"scroll\", scrollCheck);\n      window.addEventListener(\"resize\", resize);\n    }\n\n    function mouseMove(e) {\n      var posx = 0;\n      var posy = 0;\n\n      if (e.pageX || e.pageY) {\n        posx = e.pageX;\n        posy = e.pageY;\n      } else if (e.clientX || e.clientY) {\n        posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n        posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n      }\n\n      target.x = posx;\n      target.y = posy;\n    }\n\n    function scrollCheck() {\n      if (document.body.scrollTop > height) animateHeader = false;else animateHeader = true;\n    }\n\n    function resize() {\n      width = window.innerWidth;\n      height = window.innerHeight;\n      largeHeader.style.height = height + \"px\";\n      canvas.width = width;\n      canvas.height = height;\n    } // animation\n\n\n    function initAnimation() {\n      animate();\n\n      for (var i in points) {\n        shiftPoint(points[i]);\n      }\n    }\n\n    function animate() {\n      if (animateHeader) {\n        ctx.clearRect(0, 0, width, height);\n\n        for (var i in points) {\n          // detect points in range\n          if (Math.abs(getDistance(target, points[i])) < 4000) {\n            points[i].active = 0.3;\n            points[i].circle.active = 0.6;\n          } else if (Math.abs(getDistance(target, points[i])) < 20000) {\n            points[i].active = 0.1;\n            points[i].circle.active = 0.3;\n          } else if (Math.abs(getDistance(target, points[i])) < 40000) {\n            points[i].active = 0.02;\n            points[i].circle.active = 0.1;\n          } else {\n            points[i].active = 0;\n            points[i].circle.active = 0;\n          }\n\n          drawLines(points[i]);\n          points[i].circle.draw();\n        }\n      }\n\n      requestAnimationFrame(animate);\n    }\n\n    function shiftPoint(p) {\n      TweenLite.to(p, 1 + 1 * Math.random(), {\n        x: p.originX - 50 + Math.random() * 100,\n        y: p.originY - 50 + Math.random() * 100,\n        ease: Circ.easeInOut,\n        onComplete: function () {\n          shiftPoint(p);\n        }\n      });\n    } // Canvas manipulation\n\n\n    function drawLines(p) {\n      if (!p.active) return;\n\n      for (var i in p.closest) {\n        ctx.beginPath();\n        ctx.moveTo(p.x, p.y);\n        ctx.lineTo(p.closest[i].x, p.closest[i].y);\n        ctx.strokeStyle = \"rgba(156,217,249,\" + p.active + \")\";\n        ctx.stroke();\n      }\n    }\n\n    function Circle(pos, rad, color) {\n      var _this = this // constructor\n      ;\n\n      (function () {\n        _this.pos = pos || null;\n        _this.radius = rad || null;\n        _this.color = color || null;\n      })();\n\n      this.draw = function () {\n        if (!_this.active) return;\n        ctx.beginPath();\n        ctx.arc(_this.pos.x, _this.pos.y, _this.radius, 0, 2 * Math.PI, false);\n        ctx.fillStyle = \"rgba(156,217,249,\" + _this.active + \")\";\n        ctx.fill();\n      };\n    } // Util\n\n\n    function getDistance(p1, p2) {\n      return Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2);\n    }\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 13\n      }\n    }, __jsx(Helmet, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }\n    }, __jsx(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 21\n      }\n    }), __jsx(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://www.marcoguglie.it/Codepen/AnimatedHeaderBg/demo-1/css/demo.css\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }\n    }), __jsx(\"script\", {\n      src: \"https://www.marcoguglie.it/Codepen/AnimatedHeaderBg/demo-1/js/EasePack.min.js\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }\n    })), __jsx(\"div\", {\n      id: \"large-header\",\n      className: \"large-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }\n    }, __jsx(\"canvas\", {\n      id: \"demo-canvas\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }\n    })), this.props.children);\n  }\n\n}","map":{"version":3,"sources":["/home/rishav/Screencast/components/BackgroundAnimate.js"],"names":["React","Helmet","TweenLite","Circ","Bg","Component","componentDidMount","width","height","largeHeader","canvas","ctx","points","target","animateHeader","initHeader","initAnimation","addListeners","window","innerWidth","innerHeight","x","y","document","getElementById","getContext","px","Math","random","py","p","originX","originY","push","i","length","closest","p1","j","p2","placed","k","undefined","getDistance","c","Circle","circle","addEventListener","mouseMove","scrollCheck","resize","e","posx","posy","pageX","pageY","clientX","clientY","body","scrollLeft","documentElement","scrollTop","style","animate","shiftPoint","clearRect","abs","active","drawLines","draw","requestAnimationFrame","to","ease","easeInOut","onComplete","beginPath","moveTo","lineTo","strokeStyle","stroke","pos","rad","color","_this","radius","arc","PI","fillStyle","fill","pow","render","props","children"],"mappings":"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","sourcesContent":["import React from \"react\"\n//import \"../bootstrap.css\"\nimport Helmet from \"react-helmet\"\n//import \"../styles/background.css\"\nimport { TweenLite, Circ } from \"gsap\"\n\n\nexport default class Bg extends React.Component {\n    componentDidMount() {\n        var width,\n            height,\n            largeHeader,\n            canvas,\n            ctx,\n            points,\n            target,\n            animateHeader = true\n\n        // Main\n        initHeader()\n        initAnimation()\n        addListeners()\n\n        function initHeader() {\n            width = window.innerWidth\n            height = window.innerHeight\n            target = { x: width / 2, y: height / 2 }\n\n            // largeHeader = document.getElementById(\"large-header\")\n            // largeHeader.style.height = height + \"px\"\n\n            canvas = document.getElementById(\"demo-canvas\")\n            canvas.width = width\n            canvas.height = height\n            ctx = canvas.getContext(\"2d\")\n\n            // create points\n            points = []\n            for (var x = 0; x < width; x = x + width / 20) {\n                for (var y = 0; y < height; y = y + height / 20) {\n                    var px = x + (Math.random() * width) / 20\n                    var py = y + (Math.random() * height) / 20\n                    var p = { x: px, originX: px, y: py, originY: py }\n                    points.push(p)\n                }\n            }\n\n            // for each point find the 5 closest points\n            for (var i = 0; i < points.length; i++) {\n                var closest = []\n                var p1 = points[i]\n                for (var j = 0; j < points.length; j++) {\n                    var p2 = points[j]\n                    if (!(p1 == p2)) {\n                        var placed = false\n                        for (var k = 0; k < 5; k++) {\n                            if (!placed) {\n                                if (closest[k] == undefined) {\n                                    closest[k] = p2\n                                    placed = true\n                                }\n                            }\n                        }\n\n                        for (var k = 0; k < 5; k++) {\n                            if (!placed) {\n                                if (getDistance(p1, p2) < getDistance(p1, closest[k])) {\n                                    closest[k] = p2\n                                    placed = true\n                                }\n                            }\n                        }\n                    }\n                }\n                p1.closest = closest\n            }\n\n            // assign a circle to each point\n            for (var i in points) {\n                var c = new Circle(\n                    points[i],\n                    2 + Math.random() * 2,\n                    \"rgba(255,255,255,0.3)\"\n                )\n                points[i].circle = c\n            }\n        }\n\n        // Event handling\n        function addListeners() {\n            if (!(\"ontouchstart\" in window)) {\n                window.addEventListener(\"mousemove\", mouseMove)\n            }\n            window.addEventListener(\"scroll\", scrollCheck)\n            window.addEventListener(\"resize\", resize)\n        }\n\n        function mouseMove(e) {\n            var posx = 0\n            var posy = 0\n            if (e.pageX || e.pageY) {\n                posx = e.pageX\n                posy = e.pageY\n            } else if (e.clientX || e.clientY) {\n                posx =\n                    e.clientX +\n                    document.body.scrollLeft +\n                    document.documentElement.scrollLeft\n                posy =\n                    e.clientY +\n                    document.body.scrollTop +\n                    document.documentElement.scrollTop\n            }\n            target.x = posx\n            target.y = posy\n        }\n\n        function scrollCheck() {\n            if (document.body.scrollTop > height) animateHeader = false\n            else animateHeader = true\n        }\n\n        function resize() {\n            width = window.innerWidth\n            height = window.innerHeight\n            largeHeader.style.height = height + \"px\"\n            canvas.width = width\n            canvas.height = height\n        }\n\n        // animation\n        function initAnimation() {\n            animate()\n            for (var i in points) {\n                shiftPoint(points[i])\n            }\n        }\n\n        function animate() {\n            if (animateHeader) {\n                ctx.clearRect(0, 0, width, height)\n                for (var i in points) {\n                    // detect points in range\n                    if (Math.abs(getDistance(target, points[i])) < 4000) {\n                        points[i].active = 0.3\n                        points[i].circle.active = 0.6\n                    } else if (Math.abs(getDistance(target, points[i])) < 20000) {\n                        points[i].active = 0.1\n                        points[i].circle.active = 0.3\n                    } else if (Math.abs(getDistance(target, points[i])) < 40000) {\n                        points[i].active = 0.02\n                        points[i].circle.active = 0.1\n                    } else {\n                        points[i].active = 0\n                        points[i].circle.active = 0\n                    }\n\n                    drawLines(points[i])\n                    points[i].circle.draw()\n                }\n            }\n            requestAnimationFrame(animate)\n        }\n\n        function shiftPoint(p) {\n            TweenLite.to(p, 1 + 1 * Math.random(), {\n                x: p.originX - 50 + Math.random() * 100,\n                y: p.originY - 50 + Math.random() * 100,\n                ease: Circ.easeInOut,\n                onComplete: function () {\n                    shiftPoint(p)\n                },\n            })\n        }\n\n        // Canvas manipulation\n        function drawLines(p) {\n            if (!p.active) return\n            for (var i in p.closest) {\n                ctx.beginPath()\n                ctx.moveTo(p.x, p.y)\n                ctx.lineTo(p.closest[i].x, p.closest[i].y)\n                ctx.strokeStyle = \"rgba(156,217,249,\" + p.active + \")\"\n                ctx.stroke()\n            }\n        }\n\n        function Circle(pos, rad, color) {\n            var _this = this\n\n                // constructor\n                ; (function () {\n                    _this.pos = pos || null\n                    _this.radius = rad || null\n                    _this.color = color || null\n                })()\n\n            this.draw = function () {\n                if (!_this.active) return\n                ctx.beginPath()\n                ctx.arc(_this.pos.x, _this.pos.y, _this.radius, 0, 2 * Math.PI, false)\n                ctx.fillStyle = \"rgba(156,217,249,\" + _this.active + \")\"\n                ctx.fill()\n            }\n        }\n\n        // Util\n        function getDistance(p1, p2) {\n            return Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2)\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"dashboard\">\n                <Helmet>\n                    <link\n                        rel=\"stylesheet\"\n                        href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css\"\n                    />\n                    <link\n                        rel=\"stylesheet\"\n                        href=\"https://www.marcoguglie.it/Codepen/AnimatedHeaderBg/demo-1/css/demo.css\"\n                    />\n                    <script src=\"https://www.marcoguglie.it/Codepen/AnimatedHeaderBg/demo-1/js/EasePack.min.js\" />\n                </Helmet>\n\n                <div id=\"large-header\" className=\"large-header\">\n                    <canvas id=\"demo-canvas\"></canvas>\n                </div>\n                {this.props.children}\n\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}