{"ast":null,"code":"var _jsxFileName = \"/home/anwesha/Desktop/screencast/pages/game.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport axios from \"axios\";\nimport React from \"react\";\nimport Navbar from \"../components/Navbar\";\nimport Footer from \"../components/Footer\";\nimport Question from \"../components/Question\";\nimport Hint from \"../components/Hint\";\nimport AnsAlert from \"../components/AnsAlert\";\nimport Answer from \"../components/Answer\";\nimport Router from \"next/router\";\nimport data from '../env.json';\n\nclass game extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"submit\", event => {\n      //send final answer for checking\n      if (event.key === \"Enter\") {\n        console.log(this.state.answer);\n        console.log(\"JOJOJOJOJOJ\");\n        this.checkAns(this.state.answer);\n      }\n    });\n\n    _defineProperty(this, \"submit2\", () => {\n      //send final answer for checking\n      console.log(this.state.answer);\n      this.checkAns(this.state.answer);\n    });\n\n    _defineProperty(this, \"change\", event => {\n      //keep updating answer\n      let e = event.target.value;\n      this.setState(prevState => {\n        return _objectSpread({}, prevState, {\n          answer: e\n        });\n      });\n    });\n\n    this.state = {\n      answer: \"\",\n      questions: \"\",\n      qsNo: 1,\n      audio: \"\",\n      image: \"\",\n      isLoggedIn: false,\n      hint: \"\",\n      day: \"\",\n      end: \"\"\n    };\n    this.submit = this.submit.bind(this);\n    this.submit2 = this.submit2.bind(this);\n    this.change = this.change.bind(this);\n    this.checkAns = this.checkAns.bind(this);\n    this.getQuestions = this.getQuestions.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(localStorage.getItem('end') - Date.now());\n    let v = setTimeout(function () {\n      AnsAlert(9);\n      Router.push('/finale2');\n    });\n    console.log(localStorage.getItem('end'));\n    this.setState({\n      day: localStorage.getItem('day'),\n      end: localStorage.getItem('end')\n    }, () => {\n      console.log(this.state.day + this.state.end);\n\n      if (!localStorage.getItem(\"email\")) {\n        Router.push('/');\n      } else if (!(localStorage.getItem('start') <= Date.now())) {\n        localStorage.clear();\n        Router.push(\"/\");\n      } else {\n        this.getQuestions();\n      }\n    });\n  }\n\n  getQuestions() {\n    console.log(this.state.qsNo);\n    console.log(localStorage.getItem(\"token\")); //get questions from api and updates state\n\n    axios.get(data.api + \"/api/question\", {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n      }\n    }).then(response => {\n      console.log(response); //if (response.data.error) Router.push(\"/finale2\");\n\n      if (response.data.quiz_has_finished) Router.push(\"/finale\");\n      this.setState(prevState => {\n        return _objectSpread({}, prevState, {\n          questions: response.data.question,\n          hint: response.data.hint,\n          qsNo: response.data.question_no,\n          audio: response.data.audio,\n          image: response.data.image\n        });\n      });\n    });\n    console.log(localStorage.getItem(\"token\"));\n  }\n\n  checkAns(ans //check answer from api and send for correct alert\n  ) {\n    console.log(ans);\n    console.log(this.state.qsNo);\n    axios.post(data.api + \"/api/checkanswer\", {\n      answer: ans\n    }, {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n      }\n    }).then(response => {\n      let r = response.data.result;\n      console.log(response);\n\n      if (r && !response.data.quiz_finished) {\n        this.setState(prevState => {\n          return _objectSpread({}, prevState, {\n            qsNo: prevState.qsNo + 1,\n            answer: \"\"\n          });\n        });\n        AnsAlert(1); //where does the effing control go after this?\n\n        console.log(\"SANTA\");\n        this.setState({\n          answer: \"\"\n        });\n        this.getQuestions();\n      } else if (r && response.data.quiz_finished) {\n        AnsAlert(1);\n        Router.push(\"/finale\");\n      } else {\n        this.setState({\n          answer: \"\"\n        });\n        AnsAlert(0);\n      }\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      style: {\n        marginRight: \"auto\",\n        marginLeft: \"auto\",\n        textAlign: \"center\",\n        minHeight: \"100vh-100px\"\n      },\n      questions: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }\n    }, __jsx(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }\n    }), __jsx(Question, {\n      qs: this.state.questions,\n      qsNo: this.state.qsNo,\n      audio: this.state.audio,\n      image: this.state.image,\n      day: this.state.day,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }\n    }), __jsx(\"div\", {\n      className: \"jsx-4141458270\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }\n    }, __jsx(Answer, {\n      change: this.change,\n      answer: this.state.answer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }\n    }), __jsx(Hint, {\n      hint: this.state.hint,\n      submit: this.submit,\n      submit2: this.submit2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }\n    }), __jsx(_JSXStyle, {\n      id: \"4141458270\",\n      __self: this\n    }, \"div.jsx-4141458270{text-align:center;margin:5px;margin-bottom:100px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2Fud2VzaGEvRGVza3RvcC9zY3JlZW5jYXN0L3BhZ2VzL2dhbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBZ0xzQixBQUdpQyxrQkFDUCxXQUNRLG9CQUNyQiIsImZpbGUiOiIvaG9tZS9hbndlc2hhL0Rlc2t0b3Avc2NyZWVuY2FzdC9wYWdlcy9nYW1lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IE5hdmJhciBmcm9tIFwiLi4vY29tcG9uZW50cy9OYXZiYXJcIjtcbmltcG9ydCBGb290ZXIgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9vdGVyXCI7XG5pbXBvcnQgUXVlc3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUXVlc3Rpb25cIjtcbmltcG9ydCBIaW50IGZyb20gXCIuLi9jb21wb25lbnRzL0hpbnRcIjtcbmltcG9ydCBBbnNBbGVydCBmcm9tIFwiLi4vY29tcG9uZW50cy9BbnNBbGVydFwiXG5pbXBvcnQgQW5zd2VyIGZyb20gXCIuLi9jb21wb25lbnRzL0Fuc3dlclwiO1xuaW1wb3J0IFJvdXRlciBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcbmltcG9ydCBkYXRhIGZyb20gJy4uL2Vudi5qc29uJztcblxuXG5jbGFzcyBnYW1lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFuc3dlcjogXCJcIixcbiAgICAgIHF1ZXN0aW9uczogXCJcIixcbiAgICAgIHFzTm86IDEsXG4gICAgICBhdWRpbzogXCJcIixcbiAgICAgIGltYWdlOiBcIlwiLFxuICAgICAgaXNMb2dnZWRJbjogZmFsc2UsXG4gICAgICBoaW50OiBcIlwiLFxuICAgICAgZGF5OiBcIlwiLFxuICAgICAgZW5kOlwiXCJcbiAgICB9O1xuXG4gICAgdGhpcy5zdWJtaXQgPSB0aGlzLnN1Ym1pdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3VibWl0MiA9IHRoaXMuc3VibWl0Mi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2hhbmdlID0gdGhpcy5jaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNoZWNrQW5zID0gdGhpcy5jaGVja0Fucy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZ2V0UXVlc3Rpb25zID0gdGhpcy5nZXRRdWVzdGlvbnMuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuXG4gICAgY29uc29sZS5sb2cobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VuZCcpLURhdGUubm93KCkpXG4gICAgbGV0IHY9c2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgQW5zQWxlcnQoOSk7XG4gICAgICBSb3V0ZXIucHVzaCgnL2ZpbmFsZTInKVxuICAgIH0pXG4gICAgY29uc29sZS5sb2cobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VuZCcpKVxuICAgIHRoaXMuc2V0U3RhdGUoe2RheTpsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGF5JyksIGVuZDpsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW5kJyl9LCgpPT5cbiAgICB7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmRheSt0aGlzLnN0YXRlLmVuZCk7XG4gICAgICBpZiAoIShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImVtYWlsXCIpKSkge1xuICAgICAgICBSb3V0ZXIucHVzaCgnLycpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RhcnQnKSA8PSBEYXRlLm5vdygpKSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgICAgICAgUm91dGVyLnB1c2goXCIvXCIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZ2V0UXVlc3Rpb25zKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gIH1cblxuICBnZXRRdWVzdGlvbnMoKSB7XG4gICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5xc05vKTtcbiAgICBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRva2VuXCIpKTsgLy9nZXQgcXVlc3Rpb25zIGZyb20gYXBpIGFuZCB1cGRhdGVzIHN0YXRlXG5cbiAgICBheGlvc1xuICAgICAgLmdldChkYXRhLmFwaStcIi9hcGkvcXVlc3Rpb25cIiwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgQXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRva2VuXCIpLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgIC8vaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIFJvdXRlci5wdXNoKFwiL2ZpbmFsZTJcIik7XG4gICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnF1aXpfaGFzX2ZpbmlzaGVkKSBSb3V0ZXIucHVzaChcIi9maW5hbGVcIik7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgICAgICBxdWVzdGlvbnM6IHJlc3BvbnNlLmRhdGEucXVlc3Rpb24sXG4gICAgICAgICAgICBoaW50OiByZXNwb25zZS5kYXRhLmhpbnQsXG4gICAgICAgICAgICBxc05vOiByZXNwb25zZS5kYXRhLnF1ZXN0aW9uX25vLFxuICAgICAgICAgICAgYXVkaW86IHJlc3BvbnNlLmRhdGEuYXVkaW8sXG4gICAgICAgICAgICBpbWFnZTogcmVzcG9uc2UuZGF0YS5pbWFnZVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgY29uc29sZS5sb2cobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b2tlblwiKSk7XG4gIH1cblxuICBzdWJtaXQgPSAoZXZlbnQpID0+IHtcbiAgICAvL3NlbmQgZmluYWwgYW5zd2VyIGZvciBjaGVja2luZ1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5hbnN3ZXIpO1xuICAgICAgY29uc29sZS5sb2coXCJKT0pPSk9KT0pPSlwiKTtcbiAgICAgIHRoaXMuY2hlY2tBbnModGhpcy5zdGF0ZS5hbnN3ZXIpO1xuICAgIH1cbiAgfTtcbiAgc3VibWl0MiA9ICgpID0+IHtcbiAgICAvL3NlbmQgZmluYWwgYW5zd2VyIGZvciBjaGVja2luZ1xuXG4gICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5hbnN3ZXIpO1xuXG4gICAgdGhpcy5jaGVja0Fucyh0aGlzLnN0YXRlLmFuc3dlcik7XG4gIH07XG5cbiAgY2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgLy9rZWVwIHVwZGF0aW5nIGFuc3dlclxuICAgIGxldCBlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4ge1xuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBhbnN3ZXI6IGUgfTtcbiAgICB9KTtcbiAgfTtcblxuICBjaGVja0FucyhcbiAgICBhbnMgLy9jaGVjayBhbnN3ZXIgZnJvbSBhcGkgYW5kIHNlbmQgZm9yIGNvcnJlY3QgYWxlcnRcbiAgKSB7XG4gICAgY29uc29sZS5sb2coYW5zKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLnFzTm8pO1xuICAgIGF4aW9zXG4gICAgICAucG9zdChcbiAgICAgICAgZGF0YS5hcGkrXCIvYXBpL2NoZWNrYW5zd2VyXCIsXG4gICAgICAgIHsgYW5zd2VyOiBhbnMgfSxcbiAgICAgICAge1xuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b2tlblwiKSxcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICApXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgbGV0IHIgPSByZXNwb25zZS5kYXRhLnJlc3VsdDtcbiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuXG4gICAgICAgIGlmIChyICYmICFyZXNwb25zZS5kYXRhLnF1aXpfZmluaXNoZWQpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgcXNObzogcHJldlN0YXRlLnFzTm8gKyAxLCBhbnN3ZXI6IFwiXCIgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBBbnNBbGVydCgxKTsgLy93aGVyZSBkb2VzIHRoZSBlZmZpbmcgY29udHJvbCBnbyBhZnRlciB0aGlzP1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiU0FOVEFcIik7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBhbnN3ZXI6IFwiXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLmdldFF1ZXN0aW9ucygpO1xuICAgICAgICB9IGVsc2UgaWYgKHIgJiYgcmVzcG9uc2UuZGF0YS5xdWl6X2ZpbmlzaGVkKSB7XG4gICAgICAgICAgQW5zQWxlcnQoMSk7XG4gICAgICAgICAgUm91dGVyLnB1c2goXCIvZmluYWxlXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgYW5zd2VyOiBcIlwiXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgQW5zQWxlcnQoMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBcImF1dG9cIiwgbWFyZ2luTGVmdDogXCJhdXRvXCIsIHRleHRBbGlnbjogXCJjZW50ZXJcIiwgbWluSGVpZ2h0OiBcIjEwMHZoLTEwMHB4XCIgfX1cbiAgICAgICAgcXVlc3Rpb25zXG4gICAgICA+XG5cblxuICAgICAgICA8TmF2YmFyIC8+XG5cbiAgICAgICAgPFF1ZXN0aW9uIHFzPXt0aGlzLnN0YXRlLnF1ZXN0aW9uc30gcXNObz17dGhpcy5zdGF0ZS5xc05vfSBhdWRpbz17dGhpcy5zdGF0ZS5hdWRpb30gaW1hZ2U9e3RoaXMuc3RhdGUuaW1hZ2V9IGRheT17dGhpcy5zdGF0ZS5kYXl9IC8+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPEFuc3dlclxuICAgICAgICAgICAgY2hhbmdlPXt0aGlzLmNoYW5nZX1cblxuICAgICAgICAgICAgYW5zd2VyPXt0aGlzLnN0YXRlLmFuc3dlcn1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPEhpbnQgaGludD17dGhpcy5zdGF0ZS5oaW50fVxuICAgICAgICAgICAgc3VibWl0PXt0aGlzLnN1Ym1pdH1cbiAgICAgICAgICAgIHN1Ym1pdDI9e3RoaXMuc3VibWl0Mn1cblxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgICBkaXYge1xuICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICAgIG1hcmdpbjogNXB4O1xuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOjEwMHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGB9PC9zdHlsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPEZvb3RlciAvPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZ2FtZTtcbiJdfQ== */\\n/*@ sourceURL=/home/anwesha/Desktop/screencast/pages/game.js */\")), __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }\n    }, __jsx(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default game;","map":{"version":3,"sources":["/home/anwesha/Desktop/screencast/pages/game.js"],"names":["axios","React","Navbar","Footer","Question","Hint","AnsAlert","Answer","Router","data","game","Component","constructor","props","event","key","console","log","state","answer","checkAns","e","target","value","setState","prevState","questions","qsNo","audio","image","isLoggedIn","hint","day","end","submit","bind","submit2","change","getQuestions","componentDidMount","localStorage","getItem","Date","now","v","setTimeout","push","clear","get","api","headers","Authorization","then","response","quiz_has_finished","question","question_no","ans","post","r","result","quiz_finished","render","marginRight","marginLeft","textAlign","minHeight"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport Navbar from \"../components/Navbar\";\nimport Footer from \"../components/Footer\";\nimport Question from \"../components/Question\";\nimport Hint from \"../components/Hint\";\nimport AnsAlert from \"../components/AnsAlert\"\nimport Answer from \"../components/Answer\";\nimport Router from \"next/router\";\nimport data from '../env.json';\n\n\nclass game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      answer: \"\",\n      questions: \"\",\n      qsNo: 1,\n      audio: \"\",\n      image: \"\",\n      isLoggedIn: false,\n      hint: \"\",\n      day: \"\",\n      end:\"\"\n    };\n\n    this.submit = this.submit.bind(this);\n    this.submit2 = this.submit2.bind(this);\n    this.change = this.change.bind(this);\n    this.checkAns = this.checkAns.bind(this);\n    this.getQuestions = this.getQuestions.bind(this);\n  }\n\n  componentDidMount() {\n\n    console.log(localStorage.getItem('end')-Date.now())\n    let v=setTimeout(function(){\n      AnsAlert(9);\n      Router.push('/finale2')\n    })\n    console.log(localStorage.getItem('end'))\n    this.setState({day:localStorage.getItem('day'), end:localStorage.getItem('end')},()=>\n    {\n      console.log(this.state.day+this.state.end);\n      if (!(localStorage.getItem(\"email\"))) {\n        Router.push('/');\n      }\n      else if (!(localStorage.getItem('start') <= Date.now())) {\n        localStorage.clear();\n        Router.push(\"/\");\n      }\n      else {\n        this.getQuestions();\n      }\n    });\n    \n  }\n\n  getQuestions() {\n    console.log(this.state.qsNo);\n    console.log(localStorage.getItem(\"token\")); //get questions from api and updates state\n\n    axios\n      .get(data.api+\"/api/question\", {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n        },\n      })\n      .then((response) => {\n        console.log(response);\n        //if (response.data.error) Router.push(\"/finale2\");\n        if (response.data.quiz_has_finished) Router.push(\"/finale\");\n        this.setState((prevState) => {\n          return {\n            ...prevState,\n            questions: response.data.question,\n            hint: response.data.hint,\n            qsNo: response.data.question_no,\n            audio: response.data.audio,\n            image: response.data.image\n          };\n        });\n      });\n    console.log(localStorage.getItem(\"token\"));\n  }\n\n  submit = (event) => {\n    //send final answer for checking\n    if (event.key === \"Enter\") {\n      console.log(this.state.answer);\n      console.log(\"JOJOJOJOJOJ\");\n      this.checkAns(this.state.answer);\n    }\n  };\n  submit2 = () => {\n    //send final answer for checking\n\n    console.log(this.state.answer);\n\n    this.checkAns(this.state.answer);\n  };\n\n  change = (event) => {\n    //keep updating answer\n    let e = event.target.value;\n    this.setState((prevState) => {\n      return { ...prevState, answer: e };\n    });\n  };\n\n  checkAns(\n    ans //check answer from api and send for correct alert\n  ) {\n    console.log(ans);\n    console.log(this.state.qsNo);\n    axios\n      .post(\n        data.api+\"/api/checkanswer\",\n        { answer: ans },\n        {\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n          },\n        }\n      )\n      .then((response) => {\n        let r = response.data.result;\n        console.log(response);\n\n        if (r && !response.data.quiz_finished) {\n          this.setState((prevState) => {\n            return { ...prevState, qsNo: prevState.qsNo + 1, answer: \"\" };\n          });\n          AnsAlert(1); //where does the effing control go after this?\n          console.log(\"SANTA\");\n          this.setState({\n            answer: \"\"\n          });\n          this.getQuestions();\n        } else if (r && response.data.quiz_finished) {\n          AnsAlert(1);\n          Router.push(\"/finale\");\n        } else {\n          this.setState({\n            answer: \"\"\n          });\n          AnsAlert(0);\n        }\n      });\n  }\n\n  render() {\n    return (\n      <div\n        style={{ marginRight: \"auto\", marginLeft: \"auto\", textAlign: \"center\", minHeight: \"100vh-100px\" }}\n        questions\n      >\n\n\n        <Navbar />\n\n        <Question qs={this.state.questions} qsNo={this.state.qsNo} audio={this.state.audio} image={this.state.image} day={this.state.day} />\n        <div>\n          <Answer\n            change={this.change}\n\n            answer={this.state.answer}\n          />\n\n          <Hint hint={this.state.hint}\n            submit={this.submit}\n            submit2={this.submit2}\n\n          />\n\n          <style jsx>{`\n            div {\n              text-align: center;\n              margin: 5px;\n              margin-bottom:100px;\n            }\n          `}</style>\n        </div>\n        <div>\n          <Footer />\n\n        </div>\n      </div>\n    );\n  }\n}\nexport default game;\n"]},"metadata":{},"sourceType":"module"}