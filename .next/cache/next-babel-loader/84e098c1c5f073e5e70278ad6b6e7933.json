{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport GoogleLog from \"../components/GoogleLog\";\nimport FbLog2 from \"../components/FbLog2\";\nimport Timer2 from \"../components/Timer2\";\nimport Router from \"next/router\";\nimport data from '../env.json';\nimport Layout from \"../components/Layout\";\nimport Loader from \"../components/Loader\";\n\nfunction index() {\n  const {\n    0: end,\n    1: setEnd\n  } = useState(Date.now());\n  const {\n    0: start,\n    1: setStart\n  } = useState(Date.now() + 2000);\n  const {\n    0: day,\n    1: setDay\n  } = useState(0);\n  const {\n    0: loading,\n    1: setloading\n  } = useState(false);\n  useEffect(() => {\n    axios.get(data.api + \"/api/status\").then(response => {\n      if (response.data.status == 404) Router.push('/error');\n      var temp = new Date(response.data.start_time);\n      setStart(temp.getTime() + temp.getTimezoneOffset() * 60000);\n      let temp2 = new Date(response.data.end_time);\n      setEnd(temp2.getTime() + temp2.getTimezoneOffset() * 60000);\n      setDay(response.data.current_day);\n      localStorage.setItem(\"start\", start);\n      localStorage.setItem(\"end\", end);\n      localStorage.setItem(\"day\", day);\n\n      if (localStorage.getItem('day') == 3 && localStorage.getItem('end') < Date.now()) {\n        Router.push('/finale');\n      } else if (localStorage.getItem('email') && localStorage.getItem('start') < Date.now() && localStorage.getItem('end') > Date.now()) {\n        Router.push('/game');\n      }\n\n      setloading(true);\n    }).catch(err => {\n      console.log(err);\n      Router.push('/error');\n    }); // setloading(true)\n  });\n  return __jsx(Layout, null, loading === true ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    style: {\n      textAlign: \"center\",\n      backgroundColor: \"rgba(3, 3, 65, 0.5)\",\n      boxShadow: \"5px 5px 7px rgba(10, 10, 10, 0.9)\",\n      width: \"92%\",\n      maxWidth: \"600px\",\n      borderTopLeftRadius: \"50px\",\n      borderBottomRightRadius: \"50px\",\n      margin: \"0 auto\",\n      marginTop: \"100px\",\n      paddingTop: \"30px\",\n      paddingBottom: \"0px\"\n    }\n  }, __jsx(Timer2, {\n    start: start,\n    end: end\n  }), __jsx(\"div\", null, __jsx(\"div\", {\n    className: \"sign\",\n    style: {\n      marginTop: \"40px\",\n      marginBottom: \"20px\",\n      fontFamily: \"'Russo One', sans-serif\"\n    }\n  }, __jsx(\"span\", {\n    className: \"fast-flicker\"\n  }, \"screen\"), \"cast\", \" \", __jsx(\"br\", null), __jsx(\"span\", {\n    className: \"flicker\"\n  }, \"2020 \")), __jsx(\"div\", {\n    className: \"login-head\",\n    style: {\n      marginBottom: \"60px\"\n    }\n  }, __jsx(\"h1\", null, \"Ready to play ?\"))), __jsx(\"div\", {\n    className: \"rowC\",\n    style: {\n      margin: \"0 auto\",\n      paddingBottom: '40px',\n      textAlign: \"center\",\n      width: \"100%\",\n      justifyContent: \"center\"\n    }\n  }, __jsx(GoogleLog, null), __jsx(FbLog2, null))), __jsx(\"div\", {\n    className: \"footerBuff\"\n  })) : __jsx(Loader, null));\n}\n\nexport default index;","map":null,"metadata":{},"sourceType":"module"}