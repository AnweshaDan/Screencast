{"version":3,"file":"static/webpack/static/development/pages/index.js.9d762f706ec22da7e958.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Head from \"next/head\";\nimport axios from \"axios\";\nimport GoogleLog from \"../components/GoogleLog\";\nimport FbLog2 from \"../components/FbLog2\";\nimport Timer2 from \"../components/Timer2\"\nimport Router from \"next/router\";\nimport data from '../env.json';\nimport Layout from \"../components/Layout\";\nimport Loader from \"../components/Loader\";\n\nfunction index() {\n\n  const [end, setEnd] = useState(Date.now());\n  const [start, setStart] = useState(Date.now()+2000);\n  const [day, setDay] = useState(0);\n  const [loading, setloading] = useState(false)\n  \n  useEffect(() => {\n    console.log('index mounted')\n    \n    axios\n      .get(data.api+\"/api/status\")\n      .then((response) => {\n        console.log(response);\n        if(response.data.status==404)\n        Router.push('/error')\n        var temp=new Date(response.data.start_time);\n        setStart(temp.getTime() + (temp.getTimezoneOffset() * 60000));        \n        let temp2 = new Date(response.data.end_time);\n        setEnd(temp2.getTime() + (temp2.getTimezoneOffset() * 60000));\n        setDay(response.data.current_day)\n\n        localStorage.setItem(\"start\", start);\n        localStorage.setItem(\"end\", end);\n        localStorage.setItem(\"day\",day);\n        //if(localStorage.getItem('email'))\n        console.log(localStorage.getItem('end') )\n        console.log(localStorage.getItem('day')==3 && (localStorage.getItem('end') < Date.now()) )\n        console.log(localStorage.getItem('email') && (localStorage.getItem('start') < Date.now()) && end >Date.now())\n        if(localStorage.getItem('day')==3 && (localStorage.getItem('end') < Date.now()) )\n              Router.push('/game_finale')\n        \n        \n        if (localStorage.getItem('email') && (localStorage.getItem('start') < Date.now()) && localStorage.getItem('end') >Date.now())\n        {\n          Router.push('/game')\n          //console.log(Date.now()+\"    \"+localStorage.getItem('start'))\n          //Router.push('/game')\n        }\n       \n         \n        setloading(true)\n        //if(localStorage.getItem('end') < Date.now()) Router.push('/finale2');\n      });\n  })\n\n  return (\n<Layout>\n\n{ state.loading === true ?\n    <div style={{ textAlign: \"center\"}}>\n      <Timer2 start={start} end={end} />\n\n      <div>\n        <div\n          className=\"sign\"\n          style={{\n            marginTop: \"40px\",\n            marginBottom: \"20px\",\n            fontFamily: \"'Russo One', sans-serif\",\n          }}\n        >\n          <span className=\"fast-flicker\">screen</span>cast{\" \"}\n          <span className=\"flicker\">2020 </span>\n        </div>\n\n        <div className=\"login-head\" style={{ marginBottom: \"60px\" }}>\n          <h1>Ready to play ?</h1>\n        </div>\n      </div>\n\n      <div className='rowC' style={{ margin: \"0 auto\", marginBottom: '100px', textAlign: \"center\", width: \"100%\", justifyContent: \"center\" }}>\n        <GoogleLog />\n        <FbLog2 />\n      </div>\n    \n      {/* <div style={{paddingTop:'70px'}}>\n      \n      </div> */}\n\n    </div>\n: <Loader/> }\n    </Layout>\n\n\n\n  );\n}\n\nexport default index;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAMA;AACA;AAEA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;;;;A","sourceRoot":""}