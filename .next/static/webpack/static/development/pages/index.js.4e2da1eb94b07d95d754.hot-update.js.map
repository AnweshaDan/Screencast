{"version":3,"file":"static/webpack/static/development/pages/index.js.4e2da1eb94b07d95d754.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Head from \"next/head\";\nimport axios from \"axios\";\nimport GoogleLog from \"../components/GoogleLog\";\nimport FbLog2 from \"../components/FbLog2\";\nimport Timer2 from \"../components/Timer2\"\nimport Router from \"next/router\";\nimport data from '../env.json';\nimport Layout from \"../components/Layout\";\n\nfunction index() {\n\n    const [end, setEnd] = useState(Date.now());\n    const [start, setStart] = useState(Date.now() + 2000);\n    const [day, setDay] = useState(0);\n\n    useEffect(() => {\n        console.log('index mounted')\n\n        axios\n            .get(data.api + \"/api/status\")\n            .then((response) => {\n                console.log(response);\n                if (response.data.status == 404)\n                    Router.push('/error')\n                var temp = new Date(response.data.start_time);\n                setStart(temp.getTime() + (temp.getTimezoneOffset() * 60000));\n                let temp2 = new Date(response.data.end_time);\n                setEnd(temp2.getTime() + (temp2.getTimezoneOffset() * 60000));\n                setDay(response.data.current_day)\n\n                localStorage.setItem(\"start\", start);\n                localStorage.setItem(\"end\", end);\n                localStorage.setItem(\"day\", day);\n                //if(localStorage.getItem('email'))\n                console.log(localStorage.getItem('end'))\n                console.log(localStorage.getItem('day') == 3 && (localStorage.getItem('end') < Date.now()))\n                console.log(localStorage.getItem('email') && (localStorage.getItem('start') < Date.now()) && end > Date.now())\n                if (localStorage.getItem('day') == 3 && (localStorage.getItem('end') < Date.now()))\n                    Router.push('/game_finale')\n\n\n                if (localStorage.getItem('email') && (localStorage.getItem('start') < Date.now()) && localStorage.getItem('end') > Date.now()) {\n                    Router.push('/game')\n                        //console.log(Date.now()+\"    \"+localStorage.getItem('start'))\n                        //Router.push('/game')\n                }\n\n\n\n                //if(localStorage.getItem('end') < Date.now()) Router.push('/finale2');\n            });\n    })\n\n    return (\n\n\n\n        <\n        Layout >\n        <\n        div style = {\n            { textAlign: \"center\", minHeight: \"100vh\" } } >\n\n\n\n\n        <\n        Timer2 start = { start }\n        end = { end }\n        />\n\n        <\n        div >\n        <\n        div className = \"sign\"\n        style = {\n            {\n                marginTop: \"40px\",\n                marginBottom: \"20px\",\n                fontFamily: \"'Russo One', sans-serif\",\n            }\n        } >\n        <\n        span className = \"fast-flicker\" > screen < /span>cast{\" \"} <\n        span className = \"flicker\" > 2020 < /span> <\n        /div>\n\n        <\n        div className = \"login-head\"\n        style = {\n            { marginBottom: \"60px\" } } >\n        <\n        h1 > Ready to play ? < /h1> <\n        /div> <\n        /div>\n\n        <\n        div className = 'rowC'\n        style = {\n            { margin: \"0 auto\", marginBottom: '100px', textAlign: \"center\", width: \"100%\", justifyContent: \"center\" } } >\n        <\n        GoogleLog / >\n        <\n        FbLog2 / >\n        <\n        /div>\n\n        <\n        div style = {\n            { paddingTop: '70px' } } >\n\n        <\n        /div>\n\n        <\n        /div>\n\n        <\n        /Layout>\n\n\n\n    );\n}\n\nexport default index;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAKA;AACA;AAEA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AAIA;AACA;AAEA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAEA;AACA;AACA;AAHA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AACA;AACA;;;;A","sourceRoot":""}