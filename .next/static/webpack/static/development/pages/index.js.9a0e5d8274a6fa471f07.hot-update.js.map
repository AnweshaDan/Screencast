{"version":3,"file":"static/webpack/static/development/pages/index.js.9a0e5d8274a6fa471f07.hot-update.js","sources":["webpack:///./components/GoogleLog3.js"],"sourcesContent":["//using this\nimport React from \"react\";\nimport GoogleLogin from \"react-google-login\";\n\nimport axios from 'axios'\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\nimport Router from 'next/router'\nconst useStyles = theme => ({\n    root: {\n      '& > *': {\n        margin: theme.spacing(1),\n      },\n    },\n  });\n  \n\nclass GoogleLog3 extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      userDetails: {},\n      isUserLoggedIn: false\n    };\n    \n  }\n  componentDidMount(){\n    if(localStorage.getItem('email'))\n      Router.push('/game');\n  }\n\n  responseGoogle = response => {\n    console.log(response);\n    this.setState({ userDetails: response.profileObj, isUserLoggedIn: true });\n    axios.post('http://dummy.restapiexample.com/api/v1/create',{\n      data: response.tokenObj.id_token,\n      id:24\n    })\n    .then((res)=> {\n      console.log(res);\n\n    })\n    console.log(typeof(response.profileObj.name))//string\n    localStorage.setItem('email',response.profileObj.email);\n    localStorage.setItem('name',response.profileObj.name);\n    localStorage.setItem\n    console.log(localStorage.getItem('name'));//returns name\n    Router.push('/game')\n  };\n  \n  \n\n \n\n  render() {\n    const { classes } = this.props;\n\n\n\n\n\n    return (\n      <div className=\"App\">\n        {!this.state.isUserLoggedIn && (\n          <GoogleLogin\n            clientId=\"1091948986515-evn13uscvig9k6olefvrkdk3q374iumi.apps.googleusercontent.com\" \n            render={renderProps => (\n                <div className={classes.root}>\n                <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                  className=\"button\"\n                  onClick={renderProps.onClick}\n                  href='/game'\n                >\n                  Log In with Google\n                </Button>\n\n              </div>\n            )}\n            onSuccess={this.responseGoogle}//isSignedIn ??\n            onFailure={this.responseGoogle}//handle later\n            cookiePolicy={'single_host_origin'}\n          />\n        )}\n      \n      </div>\n    );\n  }\n}\n\nexport default withStyles(useStyles)(GoogleLog3);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AADA;AADA;AADA;AAAA;AACA;AAQA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAcA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAFA;AAKA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AA7BA;AACA;AACA;AAFA;AAFA;AAOA;AACA;;;AAAA;AACA;AAEA;;;AAyBA;AAAA;AACA;AADA;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAcA;AAhBA;AAiBA;AAjBA;AAkBA;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBA;;;;AAvEA;AACA;AAyEA;;;;A","sourceRoot":""}